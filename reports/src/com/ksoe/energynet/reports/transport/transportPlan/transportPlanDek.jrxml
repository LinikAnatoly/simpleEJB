<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.13.0.final using JasperReports Library version 4.5.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="transportPlanDek" pageWidth="1170" pageHeight="856" whenNoDataType="NoDataSection" columnWidth="1167" leftMargin="3" rightMargin="0" topMargin="3" bottomMargin="0" isIgnorePagination="true">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="2.196150000000001"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="d1" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d1rep}>0&&$P{dek}==1) ||
    ($F{d11rep}>0&&$P{dek}==2) ||
    ($F{d21rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr1}>0&&$P{dek}==1) ||
    ($F{dfr11}>0&&$P{dek}==2) ||
    ($F{dfr21}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d2" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d2rep}>0&&$P{dek}==1) ||
    ($F{d12rep}>0&&$P{dek}==2) ||
    ($F{d22rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr2}>0&&$P{dek}==1) ||
    ($F{dfr12}>0&&$P{dek}==2) ||
    ($F{dfr22}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d3" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d3rep}>0&&$P{dek}==1) ||
    ($F{d13rep}>0&&$P{dek}==2) ||
    ($F{d23rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr3}>0&&$P{dek}==1) ||
    ($F{dfr13}>0&&$P{dek}==2) ||
    ($F{dfr23}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d4" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d4rep}>0&&$P{dek}==1) ||
    ($F{d14rep}>0&&$P{dek}==2) ||
    ($F{d24rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr4}>0&&$P{dek}==1) ||
    ($F{dfr14}>0&&$P{dek}==2) ||
    ($F{dfr24}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d5" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d5rep}>0&&$P{dek}==1) ||
    ($F{d15rep}>0&&$P{dek}==2) ||
    ($F{d25rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr5}>0&&$P{dek}==1) ||
    ($F{dfr15}>0&&$P{dek}==2) ||
    ($F{dfr25}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d6" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d6rep}>0&&$P{dek}==1) ||
    ($F{d16rep}>0&&$P{dek}==2) ||
    ($F{d26rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr6}>0&&$P{dek}==1) ||
    ($F{dfr16}>0&&$P{dek}==2) ||
    ($F{dfr26}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d7" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d7rep}>0&&$P{dek}==1) ||
    ($F{d17rep}>0&&$P{dek}==2) ||
    ($F{d27rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr7}>0&&$P{dek}==1) ||
    ($F{dfr17}>0&&$P{dek}==2) ||
    ($F{dfr27}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d8" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d8rep}>0&&$P{dek}==1) ||
    ($F{d18rep}>0&&$P{dek}==2) ||
    ($F{d28rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr8}>0&&$P{dek}==1) ||
    ($F{dfr18}>0&&$P{dek}==2) ||
    ($F{dfr28}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d9" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d9rep}>0&&$P{dek}==1) ||
    ($F{d19rep}>0&&$P{dek}==2) ||
    ($F{d29rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr9}>0&&$P{dek}==1) ||
    ($F{dfr19}>0&&$P{dek}==2) ||
    ($F{dfr29}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d10" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d10rep}>0&&$P{dek}==1) ||
    ($F{d20rep}>0&&$P{dek}==2) ||
    ($F{d30rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{dfr10}>0&&$P{dek}==1) ||
    ($F{dfr20}>0&&$P{dek}==2) ||
    ($F{dfr30}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d11" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(
    ($F{d31rep}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(

    ($F{dfr31}>0&&$P{dek}==3)
)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FFFF33"/>
		</conditionalStyle>
	</style>
	<style name="d12" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d12rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d13" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d13rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d14" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d14rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d15" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d15rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d16" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d16rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d17" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d17rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d18" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d18rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d19" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d19rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d20" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d20rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d21" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d21rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d22" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d22rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d23" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d23rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d24" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d24rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d25" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d25rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d26" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d26rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d27" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d27rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d28" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d28rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d29" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d29rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d30" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d30rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<style name="d31" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{d31rep}>0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF0000"/>
		</conditionalStyle>
	</style>
	<parameter name="yearGen" class="java.lang.String"/>
	<parameter name="monthGen" class="java.lang.String"/>
	<parameter name="transportRenCode" class="java.lang.String"/>
	<parameter name="transportClassificationcode" class="java.lang.Integer"/>
	<parameter name="dek" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select
transportclassificationname ,lastdayinmonth ,trrdepname ,trrcode   ,invnumber ,buhname ,gosnumber  ,tcname  ,mydate  ,
case when d1rep > 0 then null else d1 end as d1,
case when d2rep > 0 then null else d2 end as d2,
case when d3rep > 0 then null else d3 end as d3,
case when d4rep > 0 then null else d4 end as d4,
case when d5rep > 0 then null else d5 end as d5,
case when d6rep > 0 then null else d6 end as d6,
case when d7rep > 0 then null else d7 end as d7,
case when d8rep > 0 then null else d8 end as d8,
case when d9rep > 0 then null else d9 end as d9,
case when d10rep > 0 then null else d10 end as d10,
case when d11rep > 0 then null else d11 end as d11,
case when d12rep > 0 then null else d12 end as d12,
case when d13rep > 0 then null else d13 end as d13,
case when d14rep > 0 then null else d14 end as d14,
case when d15rep > 0 then null else d15 end as d15,
case when d16rep > 0 then null else d16 end as d16,
case when d17rep > 0 then null else d17 end as d17,
case when d18rep > 0 then null else d18 end as d18,
case when d19rep > 0 then null else d19 end as d19,
case when d20rep > 0 then null else d20 end as d20,
case when d21rep > 0 then null else d21 end as d21,
case when d22rep > 0 then null else d22 end as d22,
case when d23rep > 0 then null else d23 end as d23,
case when d24rep > 0 then null else d24 end as d24,
case when d25rep > 0 then null else d25 end as d25,
case when d26rep > 0 then null else d26 end as d26,
case when d27rep > 0 then null else d27 end as d27,
case when d28rep > 0 then null else d28 end as d28,
case when d29rep > 0 then null else d29 end as d29,
case when d30rep > 0 then null else d30 end as d30,
case when d31rep > 0 then null else d31 end as d31/*,


d2 ,d3 ,d4  ,d5  ,d6 ,d7 ,d8 ,d9,d10 ,d11  ,d12  ,d13 ,d14 ,d15,d16 ,d17 ,d18 ,d19 ,d20,d21,d22,d23,d24,d25 ,d26,d27,d28,d29 ,d30 ,d31*/
,
case when trim(case when d1rep > 0 then null else d1 end) = '07:30-16:30' then 1 else 0 end as dfr1,
case when trim(case when d2rep > 0 then null else d2 end) = '07:30-16:30' then 1 else 0 end as dfr2,
case when trim(case when d3rep > 0 then null else d3 end) = '07:30-16:30' then 1 else 0 end as dfr3,
case when trim(case when d4rep > 0 then null else d4 end) = '07:30-16:30' then 1 else 0 end as dfr4,
case when trim(case when d5rep > 0 then null else d5 end) = '07:30-16:30' then 1 else 0 end as dfr5,
case when trim(case when d6rep > 0 then null else d6 end) = '07:30-16:30' then 1 else 0 end as dfr6,
case when trim(case when d7rep > 0 then null else d7 end) = '07:30-16:30' then 1 else 0 end as dfr7,
case when trim(case when d8rep > 0 then null else d8 end) = '07:30-16:30' then 1 else 0 end as dfr8,
case when trim(case when d9rep > 0 then null else d9 end) = '07:30-16:30' then 1 else 0 end as dfr9,
case when trim(case when d10rep > 0 then null else d10 end) = '07:30-16:30' then 1 else 0 end as dfr10,
case when trim(case when d11rep > 0 then null else d11 end) = '07:30-16:30' then 1 else 0 end as dfr11,
case when trim(case when d12rep > 0 then null else d12 end) = '07:30-16:30' then 1 else 0 end as dfr12,
case when trim(case when d13rep > 0 then null else d13 end) = '07:30-16:30' then 1 else 0 end as dfr13,
case when trim(case when d14rep > 0 then null else d14 end) = '07:30-16:30' then 1 else 0 end as dfr14,
case when trim(case when d15rep > 0 then null else d15 end) = '07:30-16:30' then 1 else 0 end as dfr15,
case when trim(case when d16rep > 0 then null else d16 end) = '07:30-16:30' then 1 else 0 end as dfr16,
case when trim(case when d17rep > 0 then null else d17 end) = '07:30-16:30' then 1 else 0 end as dfr17,
case when trim(case when d18rep > 0 then null else d18 end) = '07:30-16:30' then 1 else 0 end as dfr18,
case when trim(case when d19rep > 0 then null else d19 end) = '07:30-16:30' then 1 else 0 end as dfr19,
case when trim(case when d20rep > 0 then null else d20 end) = '07:30-16:30' then 1 else 0 end as dfr20,
case when trim(case when d21rep > 0 then null else d21 end) = '07:30-16:30' then 1 else 0 end as dfr21,
case when trim(case when d22rep > 0 then null else d22 end) = '07:30-16:30' then 1 else 0 end as dfr22,
case when trim(case when d23rep > 0 then null else d23 end) = '07:30-16:30' then 1 else 0 end as dfr23,
case when trim(case when d24rep > 0 then null else d24 end) = '07:30-16:30' then 1 else 0 end as dfr24,
case when trim(case when d25rep > 0 then null else d25 end) = '07:30-16:30' then 1 else 0 end as dfr25,
case when trim(case when d26rep > 0 then null else d26 end) = '07:30-16:30' then 1 else 0 end as dfr26,
case when trim(case when d27rep > 0 then null else d27 end) = '07:30-16:30' then 1 else 0 end as dfr27,
case when trim(case when d28rep > 0 then null else d28 end) = '07:30-16:30' then 1 else 0 end as dfr28,
case when trim(case when d29rep > 0 then null else d29 end) = '07:30-16:30' then 1 else 0 end as dfr29,
case when trim(case when d30rep > 0 then null else d30 end) = '07:30-16:30' then 1 else 0 end as dfr30,
case when trim(case when d31rep > 0 then null else d31 end) = '07:30-16:30' then 1 else 0 end as dfr31

,d1rep ,d2rep ,d3rep ,d4rep ,d5rep ,d6rep ,d7rep ,d8rep ,d9rep ,d10rep ,d11rep ,d12rep ,d13rep ,d14rep ,d15rep ,d16rep ,d17rep ,d18rep ,d19rep ,d20rep ,d21rep ,d22rep ,d23rep ,d24rep ,d25rep ,d26rep ,d27rep ,d28rep ,d29rep ,d30rep ,d31rep
from (
select
 (select name from tktransportclassifictn where code = $P{transportClassificationcode} ) as  transportClassificationname ,
 to_char(last_day(to_date('01.'||mydate,'dd.MM.yyyy')),'dd')::numeric as lastdayinmonth ,
trrdepname, trrcode, invnumber, buhname, gosnumber, tcname,  mydate,
d1,    d2,  d3,
d4,    d5,  d6,
d7,    d8,  d9,
d10,  d11,  d12,
d13,  d14,  d15,
d16,  d17,  d18,
d19,  d20,  d21,
d22,  d23,  d24,
d25,  d26,  d27,
d28,  d29,  d30,
d31,

( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('01.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d1rep,

 ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('02.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d2rep,

  ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('03.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d3rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('04.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d4rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('05.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d5rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('06.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d6rep,

    ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('07.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d7rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('08.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d8rep,

    ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('09.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d9rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('10.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d10rep,

    ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('11.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d11rep,

     ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('12.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d12rep,

    ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('13.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d13rep,

     ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('14.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d14rep,

      ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('15.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d15rep,

     ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('16.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d16rep,

    ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('17.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d17rep,

     ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('18.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d18rep,

      ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('19.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d19rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('20.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d20rep,

  ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('21.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d21rep,

  ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('22.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d22rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('23.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d23rep,

    ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('24.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d24rep,

  ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('25.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d25rep,

   ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('26.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d26rep,

    ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('27.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d27rep,

     ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('28.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) as d28rep,

   case when to_char(last_day(to_date('01.'||tr_order.mydate,'dd.MM.yyyy')),'dd')::numeric > 28
 then
      ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('29.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') )   else 0 end as d29rep,

    case when to_char(last_day(to_date('01.'||tr_order.mydate,'dd.MM.yyyy')),'dd')::numeric >= 30
 then
      ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('30.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) else 0 end as d30rep,

     case when to_char(last_day(to_date('01.'||tr_order.mydate,'dd.MM.yyyy')),'dd')::numeric = 31
 then
      ( select  count(rep.code)
   from entransportrealrepair rep
 where tr_order.trrcode = rep.realtransportcode
 and to_date('31.' || tr_order.mydate ,'dd.MM.yyyy') between to_date(to_char(rep.datestart,'dd.MM.yyyy'),'dd.MM.yyyy')
 and to_date(to_char( rep.datefinal,'dd.MM.yyyy'),'dd.MM.yyyy') ) else 0 end as d31rep

 from
(
select trdep."name" as trrdepname ,  trr.code as trrcode, trr.invnumber, trr.buhname, trr.gosnumber, tc.name as tcname,
 param.mydate as mydate,

  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('01.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('01.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('01.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('01.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('01.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('01.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('01.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('01.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('01.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	)  as d1,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('02.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('02.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('02.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('02.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('02.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('02.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('02.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('02.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('02.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d2,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('03.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('03.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('03.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('03.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('03.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('03.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('03.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('03.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('03.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d3,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('04.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('04.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('04.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('04.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('04.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('04.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('04.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('04.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('04.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d4,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('05.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('05.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('05.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('05.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('05.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('05.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('05.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('05.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('05.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d5,



  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('06.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('06.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('06.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('06.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('06.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('06.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('06.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('06.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('06.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	) as d6,



  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('07.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('07.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('07.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('07.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('07.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('07.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('07.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('07.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('07.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d7,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('08.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('08.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('08.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('08.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('08.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('08.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('08.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('08.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('08.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d8,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('09.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('09.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('09.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('09.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('09.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('09.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('09.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('09.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('09.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d9,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('10.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('10.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('10.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('10.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('10.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('10.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('10.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('10.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('10.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d10,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('11.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('11.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('11.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('11.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('11.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('11.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('11.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('11.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('11.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            )  as d11,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('12.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('12.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('12.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('12.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('12.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('12.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('12.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('12.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('12.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d12,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('13.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('13.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('13.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('13.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('13.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('13.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('13.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('13.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('13.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d13,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('14.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('14.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('14.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('14.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('14.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('14.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('14.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('14.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('14.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d14,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('15.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('15.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('15.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('15.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('15.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('15.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('15.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('15.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('15.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d15,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('16.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('16.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('16.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('16.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('16.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('16.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('16.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('16.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('16.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d16,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('17.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('17.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('17.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('17.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('17.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('17.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('17.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('17.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('17.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d17,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('18.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('18.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('18.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('18.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('18.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('18.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('18.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('18.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('18.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d18,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('19.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('19.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('19.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('19.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('19.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('19.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('19.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('19.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('19.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            )  as d19,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('20.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('20.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('20.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('20.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('20.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('20.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('20.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('20.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('20.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d20,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('21.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('21.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('21.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('21.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('21.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('21.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('21.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('21.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('21.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            )  as d21,


  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('22.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('22.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('22.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('22.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('22.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('22.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('22.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('22.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('22.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d22,

  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('23.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('23.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('23.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('23.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('23.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('23.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('23.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('23.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('23.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d23,

(select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('24.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('24.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('24.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('24.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('24.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('24.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('24.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('24.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('24.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d24,

(select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('25.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('25.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('25.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('25.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('25.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('25.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('25.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('25.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('25.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d25,

  (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('26.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('26.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('26.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('26.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('26.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('26.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('26.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('26.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('26.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d26,

(select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('27.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('27.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('27.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('27.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('27.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('27.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('27.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('27.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('27.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d27,

(select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp('28.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('28.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp('28.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date('28.'||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp('28.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp('28.' || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp('28.' || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('28.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('28.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            ) as d28,

case when to_char(last_day(to_date('01.'||param.mydate,'dd.MM.yyyy')),'dd')::integer >= 29
 then
	 (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp(
                   case when param.lastdayinmonth >=29 then '29.' else param.lastdayinmonth||'.' end
                            ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp(
                            case when param.lastdayinmonth >=29 then '29.' else param.lastdayinmonth||'.' end
                            ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp(case when param.lastdayinmonth >=29 then '29.' else param.lastdayinmonth||'.' end
                        ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date(case when param.lastdayinmonth >=29 then '29.' else param.lastdayinmonth||'.' end ||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp(case when param.lastdayinmonth >=29 then '29.' else param.lastdayinmonth||'.' end || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart ,
     to_timestamp(case when param.lastdayinmonth >=29 then '29.' else param.lastdayinmonth||'.' end  || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp(case when param.lastdayinmonth >=29 then '29.' else param.lastdayinmonth||'.' end || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('29.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('29.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            )
else null end  as d29 ,
case when to_char(last_day(to_date('01.'||param.mydate,'dd.MM.yyyy')),'dd')::integer >= 30
 then
	 (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp(
                   case when param.lastdayinmonth >=30 then '30.' else param.lastdayinmonth||'.' end
                            ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp(
                            case when param.lastdayinmonth >=30 then '30.' else param.lastdayinmonth||'.' end
                            ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp(case when param.lastdayinmonth >=30 then '30.' else param.lastdayinmonth||'.' end
                        ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date(case when param.lastdayinmonth >=30 then '30.' else param.lastdayinmonth||'.' end ||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp(case when param.lastdayinmonth >=30 then '30.' else param.lastdayinmonth||'.' end || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart ,
    to_timestamp(case when param.lastdayinmonth >=30 then '30.' else param.lastdayinmonth||'.' end || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp(case when param.lastdayinmonth >=30 then '30.' else param.lastdayinmonth||'.' end || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('30.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('30.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            )
else null end  as d30,

case when to_char(last_day(to_date('01.'||param.mydate,'dd.MM.yyyy')),'dd')::integer >= 31
 then
	 (select  string_agg( to_char(timefinal,'HH24:mi') || '-' || to_char(ddd,'HH24:mi') , ';') as _interva
	  from (
	 select *, lead(timestart, 1, null) over (partition by transportrealcode order by timestart) as ddd
	 from (
	 select null as code , trr.code as transportrealcode  , to_timestamp(
                   case when param.lastdayinmonth >=31 then '31.' else param.lastdayinmonth||'.' end
                            ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timestart , to_timestamp(
                            case when param.lastdayinmonth >=31 then '31.' else param.lastdayinmonth||'.' end
                            ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') as timefinal
	 where not  EXISTS (select 1   from entransportorder as tor where
						to_timestamp(case when param.lastdayinmonth >=31 then '31.' else param.lastdayinmonth||'.' end
                        ||param.mydate||' 07:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	union ALL
	select tor.code , tor.transportrealcode , tor.timestart ,  tor.timefinal   from entransportorder as tor where
	to_date(case when param.lastdayinmonth >=31 then '31.' else param.lastdayinmonth||'.' end ||param.mydate||'', 'dd.mm.yyyy') between tor.datestart and tor.datefinal
	and tor.transportrealcode = trr.code
	and tor.parentrefcode is null
	union
	select null as code , trr.code as transportrealcode , to_timestamp(case when param.lastdayinmonth >=31 then '31.' else param.lastdayinmonth||'.' end || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timestart ,
    to_timestamp(case when param.lastdayinmonth >=31 then '31.' else param.lastdayinmonth||'.' end || param.mydate ||' 16:30','dd.mm.yyyy HH24:min') as timefinal
	where not  EXISTS (select 1 from entransportorder as tor where
						to_timestamp(case when param.lastdayinmonth >=31 then '31.' else param.lastdayinmonth||'.' end || param.mydate || ' 16:30','dd.mm.yyyy HH24:min') between tor.timestart and tor.timefinal
						and tor.parentrefcode is null
						and tor.transportrealcode = trr.code )
	order by timestart
	) as q1
	) as q2
	where ddd - timefinal >='1 hour'
	and ddd BETWEEN to_timestamp('31.'||param.mydate||' 07:30','dd.mm.yyyy HH24:min')
	            AND to_timestamp('31.'||param.mydate||' 16:30','dd.mm.yyyy HH24:min')
	            )
else null end  as d31

from tktransportreal trr, tktransportclassifictn tc, tktransport tr,  entransportdepartment trdep ,
(select  $P{monthGen} ||'.'|| $P{yearGen}  as mydate ,
        to_char(last_day(to_date('01.'|| $P{monthGen} ||'.'|| $P{yearGen} ,'dd.MM.yyyy')),'dd')::integer as lastdayinmonth  ) as param
where trr.transportcode = tr.code
and tc.code = tr.transportclassifictncd
and trr.transportdepartmntrfcd = trdep.code
and trr.transportstatuscode = 75000000
and ( tc.code = $P{transportClassificationcode} or $P{transportClassificationcode} = -1 )
--and trr.code = 75000258
and $P!{transportRenCode}

 ) as tr_order
group by trrdepname , trrcode, invnumber, buhname, gosnumber, tcname,  mydate,
d1,    d2,  d3,
d4,    d5,  d6,
d7,    d8,  d9,
d10,  d11,  d12,
d13,  d14,  d15,
d16,  d17,  d18,
d19,  d20,  d21,
d22,  d23,  d24,
d25,  d26,  d27,
d28,  d29,  d30,
d31
) as q5
order by trrdepname , tcname]]>
	</queryString>
	<field name="trrdepname" class="java.lang.String"/>
	<field name="trrcode" class="java.lang.Double"/>
	<field name="invnumber" class="java.lang.String"/>
	<field name="buhname" class="java.lang.String"/>
	<field name="gosnumber" class="java.lang.String"/>
	<field name="tcname" class="java.lang.String"/>
	<field name="mydate" class="java.lang.String"/>
	<field name="d1" class="java.lang.String"/>
	<field name="d2" class="java.lang.String"/>
	<field name="d3" class="java.lang.String"/>
	<field name="d4" class="java.lang.String"/>
	<field name="d5" class="java.lang.String"/>
	<field name="d6" class="java.lang.String"/>
	<field name="d7" class="java.lang.String"/>
	<field name="d8" class="java.lang.String"/>
	<field name="d9" class="java.lang.String"/>
	<field name="d10" class="java.lang.String"/>
	<field name="d11" class="java.lang.String"/>
	<field name="d12" class="java.lang.String"/>
	<field name="d13" class="java.lang.String"/>
	<field name="d14" class="java.lang.String"/>
	<field name="d15" class="java.lang.String"/>
	<field name="d16" class="java.lang.String"/>
	<field name="d17" class="java.lang.String"/>
	<field name="d18" class="java.lang.String"/>
	<field name="d19" class="java.lang.String"/>
	<field name="d20" class="java.lang.String"/>
	<field name="d21" class="java.lang.String"/>
	<field name="d22" class="java.lang.String"/>
	<field name="d23" class="java.lang.String"/>
	<field name="d24" class="java.lang.String"/>
	<field name="d25" class="java.lang.String"/>
	<field name="d26" class="java.lang.String"/>
	<field name="d27" class="java.lang.String"/>
	<field name="d28" class="java.lang.String"/>
	<field name="d29" class="java.lang.String"/>
	<field name="d30" class="java.lang.String"/>
	<field name="d31" class="java.lang.String"/>
	<field name="d1rep" class="java.lang.Integer"/>
	<field name="d2rep" class="java.lang.Integer"/>
	<field name="d3rep" class="java.lang.Integer"/>
	<field name="d4rep" class="java.lang.Integer"/>
	<field name="d5rep" class="java.lang.Integer"/>
	<field name="d6rep" class="java.lang.Integer"/>
	<field name="d7rep" class="java.lang.Integer"/>
	<field name="d8rep" class="java.lang.Integer"/>
	<field name="d9rep" class="java.lang.Integer"/>
	<field name="d10rep" class="java.lang.Integer"/>
	<field name="d11rep" class="java.lang.Integer"/>
	<field name="d12rep" class="java.lang.Integer"/>
	<field name="d13rep" class="java.lang.Integer"/>
	<field name="d14rep" class="java.lang.Integer"/>
	<field name="d15rep" class="java.lang.Integer"/>
	<field name="d16rep" class="java.lang.Integer"/>
	<field name="d17rep" class="java.lang.Integer"/>
	<field name="d18rep" class="java.lang.Integer"/>
	<field name="d19rep" class="java.lang.Integer"/>
	<field name="d20rep" class="java.lang.Integer"/>
	<field name="d21rep" class="java.lang.Integer"/>
	<field name="d22rep" class="java.lang.Integer"/>
	<field name="d23rep" class="java.lang.Integer"/>
	<field name="d24rep" class="java.lang.Integer"/>
	<field name="d25rep" class="java.lang.Integer"/>
	<field name="d26rep" class="java.lang.Integer"/>
	<field name="d27rep" class="java.lang.Integer"/>
	<field name="d28rep" class="java.lang.Integer"/>
	<field name="d29rep" class="java.lang.Integer"/>
	<field name="d30rep" class="java.lang.Integer"/>
	<field name="d31rep" class="java.lang.Integer"/>
	<field name="dfr1" class="java.lang.Integer"/>
	<field name="dfr2" class="java.lang.Integer"/>
	<field name="dfr3" class="java.lang.Integer"/>
	<field name="dfr4" class="java.lang.Integer"/>
	<field name="dfr5" class="java.lang.Integer"/>
	<field name="dfr6" class="java.lang.Integer"/>
	<field name="dfr7" class="java.lang.Integer"/>
	<field name="dfr8" class="java.lang.Integer"/>
	<field name="dfr9" class="java.lang.Integer"/>
	<field name="dfr10" class="java.lang.Integer"/>
	<field name="dfr11" class="java.lang.Integer"/>
	<field name="dfr12" class="java.lang.Integer"/>
	<field name="dfr13" class="java.lang.Integer"/>
	<field name="dfr14" class="java.lang.Integer"/>
	<field name="dfr15" class="java.lang.Integer"/>
	<field name="dfr16" class="java.lang.Integer"/>
	<field name="dfr17" class="java.lang.Integer"/>
	<field name="dfr18" class="java.lang.Integer"/>
	<field name="dfr19" class="java.lang.Integer"/>
	<field name="dfr20" class="java.lang.Integer"/>
	<field name="dfr21" class="java.lang.Integer"/>
	<field name="dfr22" class="java.lang.Integer"/>
	<field name="dfr23" class="java.lang.Integer"/>
	<field name="dfr24" class="java.lang.Integer"/>
	<field name="dfr25" class="java.lang.Integer"/>
	<field name="dfr26" class="java.lang.Integer"/>
	<field name="dfr27" class="java.lang.Integer"/>
	<field name="dfr28" class="java.lang.Integer"/>
	<field name="dfr29" class="java.lang.Integer"/>
	<field name="dfr30" class="java.lang.Integer"/>
	<field name="dfr31" class="java.lang.Integer"/>
	<field name="lastdayinmonth" class="java.lang.Integer"/>
	<field name="transportClassificationname" class="java.lang.String"/>
	<group name="trrdepname">
		<groupExpression><![CDATA[$F{trrdepname}]]></groupExpression>
		<groupHeader>
			<band height="56">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="1" y="14" width="600" height="14" backcolor="#7A9CF6">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==30)
||
new Boolean($P{dek}!=3)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="12" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["  " + $F{trrdepname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="1" y="0" width="650" height="14" backcolor="#7A9CF6">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==31)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="12" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["  " + $F{trrdepname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="1" y="28" width="550" height="14" backcolor="#7A9CF6">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==29)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="12" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["  " + $F{trrdepname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="0" y="42" width="500" height="14" backcolor="#7A9CF6">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==28)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="12" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["  " + $F{trrdepname}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="tcname">
		<groupExpression><![CDATA[$F{tcname}]]></groupExpression>
		<groupHeader>
			<band height="56">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="1" y="0" width="650" height="14" backcolor="#FFFF99">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==31)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[" : " + $F{tcname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="1" y="14" width="600" height="14" backcolor="#FFFF99">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==30)
||
new Boolean($P{dek}!=3)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["  " + $F{tcname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="1" y="28" width="550" height="14" backcolor="#FFFF99">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==29)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["  " + $F{tcname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="1" y="42" width="500" height="14" backcolor="#FFFF99">
						<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==28)]]></printWhenExpression>
					</reportElement>
					<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["  " + $F{tcname}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="75" splitType="Stretch">
			<textField isStretchWithOverflow="true" evaluationTime="Report" pattern="dd.MM.yyyy HH.mm.ss" isBlankWhenNull="true">
				<reportElement key="textField-29" x="351" y="0" width="149" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Times New Roman" size="6" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new Date()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-2" positionType="Float" stretchType="RelativeToTallestObject" x="1" y="31" width="500" height="44"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" size="11" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" " +
new String($P{transportClassificationcode}==-1 ? " (   ) "
: "("+$F{transportClassificationname}+")" )
+  "     (   )"
+ " \n  " + $P{monthGen}+"."+$P{yearGen}+"  "+ $P{dek}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" x="551" y="60" width="100" height="15"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["  "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="536" y="60" width="15" height="15" backcolor="#FF0000"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" mode="Opaque" x="536" y="45" width="15" height="15" backcolor="#FFFF33"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" x="551" y="45" width="100" height="15"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["  "]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="46" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="1" y="0" width="100" height="40"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="101" y="0" width="550" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["      ,. "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="101" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"1":$P{dek}==2?"11":$P{dek}==3?"21":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="151" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"2":$P{dek}==2?"12":$P{dek}==3?"22":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="201" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"3":$P{dek}==2?"13":$P{dek}==3?"23":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="251" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"4":$P{dek}==2?"14":$P{dek}==3?"24":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="301" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"5":$P{dek}==2?"15":$P{dek}==3?"25":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="351" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"6":$P{dek}==2?"16":$P{dek}==3?"26":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="401" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"7":$P{dek}==2?"17":$P{dek}==3?"27":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="451" y="20" width="50" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"8":$P{dek}==2?"18":$P{dek}==3?"28":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="501" y="20" width="50" height="20">
					<printWhenExpression><![CDATA[new Boolean(($P{dek}==3&&$F{lastdayinmonth}>=29)
||
$P{dek}!=3)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"9":$P{dek}==2?"19":
$P{dek}==3&&$F{lastdayinmonth}>=29?"29":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="551" y="20" width="50" height="20">
					<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}>=30)
||
new Boolean($P{dek}!=3)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?"10":$P{dek}==2?"20":
$P{dek}==3&&$F{lastdayinmonth}>=30?"30":""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-22" positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="601" y="20" width="50" height="20">
					<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==31)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==3&&$F{lastdayinmonth}==31?"31":""]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="14" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{dek}==1?($F{d1}!=null||$F{d2}!=null||$F{d3}!=null||$F{d4}!=null||$F{d5}!=null||$F{d6}!=null||$F{d7}!=null||$F{d8}!=null||$F{d9}!=null||$F{d10}!=null)
:$P{dek}==2?($F{d11}!=null||$F{d12}!=null||$F{d13}!=null||$F{d14}!=null||$F{d15}!=null||$F{d16}!=null||$F{d17}!=null||$F{d18}!=null||$F{d19}!=null||$F{d20}!=null)
:$P{dek}==3?($F{d21}!=null||$F{d22}!=null||$F{d23}!=null||$F{d24}!=null||$F{d25}!=null||$F{d26}!=null||$F{d27}!=null||$F{d28}!=null||$F{d29}!=null||$F{d30}!=null||$F{d31}!=null)
:false]]></printWhenExpression>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" x="1" y="0" width="100" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{buhname} + "  " + $F{gosnumber}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d1" stretchType="RelativeToTallestObject" mode="Opaque" x="101" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d1}:$P{dek}==2?$F{d11}:$P{dek}==3?$F{d21}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d2" stretchType="RelativeToTallestObject" x="151" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d2}:$P{dek}==2?$F{d12}:$P{dek}==3?$F{d22}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d3" stretchType="RelativeToTallestObject" x="201" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d3}:$P{dek}==2?$F{d13}:$P{dek}==3?$F{d23}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d4" stretchType="RelativeToTallestObject" x="251" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d4}:$P{dek}==2?$F{d14}:$P{dek}==3?$F{d24}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d5" stretchType="RelativeToTallestObject" x="301" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d5}:$P{dek}==2?$F{d15}:$P{dek}==3?$F{d25}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d6" stretchType="RelativeToTallestObject" x="351" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d6}:$P{dek}==2?$F{d16}:$P{dek}==3?$F{d26}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d7" stretchType="RelativeToTallestObject" x="401" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d7}:$P{dek}==2?$F{d17}:$P{dek}==3?$F{d27}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d8" stretchType="RelativeToTallestObject" x="451" y="0" width="50" height="14"/>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d8}:$P{dek}==2?$F{d18}:$P{dek}==3?$F{d28}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d9" stretchType="RelativeToTallestObject" x="501" y="0" width="50" height="14">
					<printWhenExpression><![CDATA[new Boolean(($P{dek}==3&&$F{lastdayinmonth}>=29))
||
new Boolean($P{dek}!=3)]]></printWhenExpression>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d9}:$P{dek}==2?$F{d19}:$P{dek}==3?$F{d29}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d10" stretchType="RelativeToTallestObject" x="551" y="0" width="50" height="14">
					<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}>=30)
||
new Boolean($P{dek}!=3)]]></printWhenExpression>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==1?$F{d10}:$P{dek}==2?$F{d20}:$P{dek}==3?$F{d30}:""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="d11" stretchType="RelativeToTallestObject" x="601" y="0" width="50" height="14">
					<printWhenExpression><![CDATA[new Boolean($P{dek}==3&&$F{lastdayinmonth}==31)]]></printWhenExpression>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Times New Roman" size="7" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dek}==3&&$F{lastdayinmonth}==31?$F{d31}:""]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="69" splitType="Stretch"/>
	</summary>
	<noData>
		<band height="50">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-2" positionType="Float" stretchType="RelativeToTallestObject" x="1" y="0" width="1155" height="50"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" size="28" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["    "]]></textFieldExpression>
			</textField>
		</band>
	</noData>
</jasperReport>
