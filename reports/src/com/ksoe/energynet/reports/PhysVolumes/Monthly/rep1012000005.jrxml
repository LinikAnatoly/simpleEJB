<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rep1012000005" pageWidth="1060" pageHeight="842" orientation="Landscape" columnWidth="1000" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" isIgnorePagination="true">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="DepartmentCode" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(10)]]></defaultValueExpression>
	</parameter>
	<parameter name="MonthGen" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(1)]]></defaultValueExpression>
	</parameter>
	<parameter name="ReportCode" class="java.lang.Integer" isForPrompting="false">
		<defaultValueExpression><![CDATA[1012000005]]></defaultValueExpression>
	</parameter>
	<parameter name="YearGen" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(2010)]]></defaultValueExpression>
	</parameter>
	<parameter name="geoDeptCode" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="geoDeptName" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
name.Totalcode,
elname,
length,
(case
	when name.planfact = 0 then 'план'
	when name.planfact=1 then 'факт'
    when name.planfact=2 then 'річний план'
    when name.planfact=4 then 'план'
    when name.planfact=5 then 'факт'
else ''
end) as plans,
depname,
p1, p2, p3, p4

from

/* Наименование и планфакт */
(
/* Наименование річний план */
select distinct
cast((cast(EL.code as varchar) || '0') as numeric) as TotalCode,
(LI.name || ' № ' || LI.invnumber) as elname,
LI.linelength as length,
2 as planfact, 0 as sort,
de.name as depname
from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enlinecable as LI on EL.code = LI.elementcode
inner join endepartment as DE on PW.departmentrefcode = DE.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
inner join tktechcard as TC ON PI.kartarefcode = TC.code
inner join tkreportitem2techcard as RITC on TC.code = RITC.techcardcode
inner join tkreportitem as RI on RITC.reportitemcode=RI.code
inner join tkreport as RE on RI.reportrefcode=RE.code
where
RE.code = $P{ReportCode} /* номер отчета */
and PW.monthgen = $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (1,2,4) /* річні, місячні, завдання факт */
and PW.typerefcode in (1,2,3,10) /* планові, авр, припис, непланові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* Наименование план */
select distinct
cast((cast(EL.code as varchar) || '1') as numeric) as TotalCode,
(LI.name || ' № ' || LI.invnumber) as elname,
LI.linelength as length,
0 as planfact, 0 as sort,
de.name as depname
from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enlinecable as LI on EL.code = LI.elementcode
inner join endepartment as DE on PW.departmentrefcode = DE.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
inner join tktechcard as TC ON PI.kartarefcode = TC.code
inner join tkreportitem2techcard as RITC on TC.code = RITC.techcardcode
inner join tkreportitem as RI on RITC.reportitemcode=RI.code
inner join tkreport as RE on RI.reportrefcode=RE.code
where
RE.code = $P{ReportCode} /* номер отчета */
and PW.monthgen = $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (1,2,4) /* річні, місячні, завдання факт */
and PW.typerefcode in (1,2,3,10) /* планові, авр, припис, непланові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* Наименование факт */
select distinct
cast((cast(EL.code as varchar) || '2') as numeric) as TotalCode,
(LI.name || ' № ' || LI.invnumber) as elname,
LI.linelength as length,
1 as planfact, 0 as sort,
de.name as depname
from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enlinecable as LI on EL.code = LI.elementcode
inner join endepartment as DE on PW.departmentrefcode = DE.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
inner join tktechcard as TC ON PI.kartarefcode = TC.code
inner join tkreportitem2techcard as RITC on TC.code = RITC.techcardcode
inner join tkreportitem as RI on RITC.reportitemcode=RI.code
inner join tkreport as RE on RI.reportrefcode=RE.code
where
RE.code = $P{ReportCode} /* номер отчета */
and PW.monthgen = $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (1,2,4) /* річні, місячні, завдання факт */
and PW.typerefcode in (1,2,3,10) /* планові, авр, припис, непланові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* Наименование Всього річний план */
select distinct
(-27) as TotalCode,
('Всього річний план') as elname,
null::double precision as length,
3 as planfact, 1 as sort,
null as depname

union all

/* Наименование Всього місячний план */
select distinct
(-26) as TotalCode,
('Всього місячний план') as elname,
null::double precision as length,
3 as planfact, 1 as sort,
null as depname

union all

/* Наименование Всього факт */
select distinct
(-25) as TotalCode,
('Всього факт') as elname,
null::double precision as length,
3 as planfact, 1 as sort,
null as depname

union all

/* Наименование За рік */
select distinct
(-24) as TotalCode,
('За рік') as elname,
null::double precision as length,
3 as planfact, 1 as sort,
null as depname

union all

/* З початку року План */
select distinct
(-23) as TotalCode,
('З початку року') as elname,
null::double precision as length,
4 as planfact, 1 as sort,
null as depname

union all

/* З початку року Факт */
select distinct
(-22) as TotalCode,
('З початку року') as elname,
null::double precision as length,
5 as planfact, 1 as sort,
null as depname

) as name

left join

/* Даннные */
(select
(CASE
	WHEN PW.kindcode=1 THEN
    	CASE
        	WHEN PW.typerefcode=1 THEN cast((cast(EL.code as varchar) || '0') as numeric)
            ELSE null
        END
	ELSE
		(CASE
			WHEN (PW.kindcode=4) THEN
            	CASE
                	WHEN pw.statuscode = 3 THEN cast((cast(EL.code as varchar) || '2') as numeric)
                    ELSE null
    			END
            ELSE
    			CASE
        			WHEN PW.typerefcode = 1 THEN cast((cast(EL.code as varchar) || '1') as numeric)
            		ELSE null
        		END
		END)
END) as TotalCode,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000029)) as p1,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000030)) as p2,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000031)) as p3,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000032)) as p4

from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
where
PW.monthgen = $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (1,2,4) /* річні,місячні, завдання факт */
and PW.typerefcode in (1,2,3,10) /* планові, авр, припис, непланові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

group by totalcode

union all

/* Всього річний план */
select
(-27) as TotalCode,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000029)) as p1,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000030)) as p2,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000031)) as p3,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000032)) as p4

from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
where
PW.monthgen = $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (1) /* річні */
and PW.typerefcode in (1) /* планові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* Всього місячний план */
select
(-26) as TotalCode,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000029)) as p1,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000030)) as p2,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000031)) as p3,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000032)) as p4

from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
where
PW.monthgen = $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (2) /* місячні */
and PW.typerefcode in (1) /* планові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* Всього факт */
select
(-25) as TotalCode,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000029)) as p1,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000030)) as p2,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000031)) as p3,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000032)) as p4

from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
where
PW.monthgen = $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (4) /* завдання факт */
and PW.typerefcode in (1,2,3,10) /* планові, авр, припис, непланові */
and PW.statuscode = 3 /* затверджені */
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* За рік */
select
(-24) as TotalCode,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000029)) as p1,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000030)) as p2,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000031)) as p3,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000032)) as p4

from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
where
PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (1) /* річні */
and PW.typerefcode in (1) /* планові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* З початку року План */
select
(-23) as TotalCode,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000029)) as p1,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000030)) as p2,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000031)) as p3,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000032)) as p4

from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
where
PW.monthgen <= $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (1) /* річні */
and PW.typerefcode in (1) /* планові */
and PW.statuscode in (1,3,4,5,7,8) /* затверджені і чорнові */
 /*SUPP-61313 Планы со статусом работы завершены берутся только те, что с актами*/
and case when pw.statuscode = 8 then exists (select 1 from enplancorrecthistory as pco1
inner join enplancorrecthistory as pco2 on pco1.planrefcode = pco2.planrefcode
where
pw.code in (pco1.planoldrefcode, pco1.plannewrefcode)
and pco2.reasoncode = 5) else 1=1 end
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

union all

/* З початку року Факт */
select
(-22) as TotalCode,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000029)) as p1,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000030)) as p2,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000031)) as p3,

sum((select PI1.countgen
from enplanworkitem as PI1 inner join
(tktechcard as TC1 inner join
tkreportitem2techcard as RITC1
on TC1.code=RITC1.techcardcode)
on PI1.kartarefcode=TC1.code
where
PI1.code=PI.code
and RITC1.reportitemcode = 1012000032)) as p4

from
enplanwork as PW
inner join enelement as EL on PW.elementrefcode = EL.code
inner join enplanworkitem as PI on PW.code = PI.planrefcode
where
PW.monthgen <= $P{MonthGen} /* месяц */
and PW.yeargen = $P{YearGen} /* год */
and (case when $P{DepartmentCode} <> 0 then PW.departmentrefcode = $P{DepartmentCode} /* підрозділ */ when $P{DepartmentCode} = 0 then PW.departmentrefcode = PW.departmentrefcode end)
and (case when $P{geoDeptCode} <> 0 then el.geodepartmentrefcode = $P{geoDeptCode} /* geo підрозділ */ when $P{geoDeptCode} = 0 then 1=1 end)
and PW.kindcode in (4) /* завдання факт */
and PW.typerefcode in (1,2,3,10) /* планові, авр, припис, непланові */
and PW.statuscode = 3 /* затверджені */
and PW.budgetrefcode IN (75000001, 500000007) /* СРМ, СКЕМ */
and PW.staterefcode = 1 /* КР */
and EL.typerefcode = 11 /* КЛ 0.4-6-10 кВ */

) as summary

on name.totalcode=summary.totalcode

order by name.sort, name.totalcode asc]]>
	</queryString>
	<field name="totalcode" class="java.math.BigDecimal"/>
	<field name="elname" class="java.lang.String"/>
	<field name="plans" class="java.lang.String"/>
	<field name="depname" class="java.lang.String"/>
	<field name="p1" class="java.lang.Double"/>
	<field name="p2" class="java.lang.Double"/>
	<field name="p3" class="java.lang.Double"/>
	<field name="p4" class="java.lang.Double"/>
	<field name="length" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="100" splitType="Stretch">
			<subreport isUsingCache="true">
				<reportElement key="subreport-1" x="0" y="0" width="1000" height="100"/>
				<subreportParameter name="geoDeptName">
					<subreportParameterExpression><![CDATA[$P{geoDeptName}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ReportCode">
					<subreportParameterExpression><![CDATA[$P{ReportCode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="MonthGen">
					<subreportParameterExpression><![CDATA[$P{MonthGen}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="geoDeptCode">
					<subreportParameterExpression><![CDATA[$P{geoDeptCode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DepartmentCode">
					<subreportParameterExpression><![CDATA[$P{DepartmentCode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="YearGen">
					<subreportParameterExpression><![CDATA[$P{YearGen}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[getClass().getResourceAsStream("/com/ksoe/energynet/reports/PhysVolumes/Monthly/Header.jasper")]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="201" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-1" x="0" y="0" width="400" height="184"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[Найменування об'єкту]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-2" x="500" y="0" width="100" height="184"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement rotation="Left"/>
				<text><![CDATA[План/Факт]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-3" x="600" y="0" width="50" height="184"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement rotation="Left"/>
				<text><![CDATA[Установка з'єднувальних муфт на КЛ  0.4 кВ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-4" x="650" y="0" width="50" height="184"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement rotation="Left"/>
				<text><![CDATA[Установка кінцевих муфт на КЛ 0.4 кВ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-5" x="700" y="0" width="50" height="184"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement rotation="Left"/>
				<text><![CDATA[Установка з'єднувальних муфт на КЛ 6-10 кВ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-6" x="750" y="0" width="50" height="184"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement rotation="Left"/>
				<text><![CDATA[Установка кінцевих муфт на КЛ 6-10 кВ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-19" x="0" y="184" width="400" height="17"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-20" x="500" y="184" width="100" height="17"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-21" x="750" y="184" width="50" height="17"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[ШТ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-25" x="650" y="184" width="50" height="17"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[ШТ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-26" x="700" y="184" width="50" height="17"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[ШТ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-28" x="600" y="184" width="50" height="17"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[ШТ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-37" x="800" y="0" width="200" height="184">
					<printWhenExpression><![CDATA[new Boolean($P{DepartmentCode}.intValue() == 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement rotation="Left"/>
				<text><![CDATA[Підрозділ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-38" x="800" y="184" width="200" height="17">
					<printWhenExpression><![CDATA[new Boolean($P{DepartmentCode}.intValue() == 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font pdfFontName="Times-Roman" pdfEncoding="Cp1251"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-2" x="400" y="0" width="100" height="184"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement rotation="Left"/>
				<text><![CDATA[Довжина лінії, км.]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-20" x="400" y="184" width="100" height="17"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None"/>
				<text><![CDATA[]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="17" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-1" stretchType="RelativeToTallestObject" x="0" y="0" width="400" height="17" forecolor="#000000"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{elname}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-2" stretchType="RelativeToTallestObject" x="500" y="0" width="100" height="17" forecolor="#000000"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{plans}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
				<reportElement key="textField-3" stretchType="RelativeToTallestObject" x="600" y="0" width="50" height="17" forecolor="#000000"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{p1}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" x="650" y="0" width="50" height="17" forecolor="#000000"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{p2}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
				<reportElement key="textField-5" stretchType="RelativeToTallestObject" x="700" y="0" width="50" height="17" forecolor="#000000"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{p3}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
				<reportElement key="textField-6" stretchType="RelativeToTallestObject" x="750" y="0" width="50" height="17" forecolor="#000000"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{p4}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-19" stretchType="RelativeToTallestObject" x="800" y="0" width="200" height="17" forecolor="#000000">
					<printWhenExpression><![CDATA[new Boolean($P{DepartmentCode}.intValue() == 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{depname}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
				<reportElement key="textField-2" stretchType="RelativeToTallestObject" x="400" y="0" width="100" height="17" forecolor="#000000"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{length}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
