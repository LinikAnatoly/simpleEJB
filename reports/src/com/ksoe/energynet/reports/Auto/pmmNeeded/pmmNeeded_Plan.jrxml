<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="pmmByPodr_Plan" pageWidth="1400" pageHeight="550" columnWidth="1400" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" scriptletClass="com.ksoe.energynet.reports.common.FINScriptlet" isIgnorePagination="true">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="strPodr" class="java.lang.String"/>
	<parameter name="dateFinal" class="java.lang.String"/>
	<parameter name="dateStart" class="java.lang.String"/>
	<parameter name="molCodes" class="java.lang.String">
		<parameterDescription><![CDATA[Коды молов]]></parameterDescription>
	</parameter>
	<parameter name="koefOfSum" class="java.math.BigDecimal">
		<parameterDescription><![CDATA[Коэффициент для суммы]]></parameterDescription>
		<defaultValueExpression><![CDATA[new BigDecimal(1)]]></defaultValueExpression>
	</parameter>
	<parameter name="vendorCode" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new BigDecimal(1)]]></defaultValueExpression>
	</parameter>
	<parameter name="departmentCoSubDepCodes" class="java.util.List">
		<parameterDescription><![CDATA["Підпідрозділи Апарату управління"]]></parameterDescription>
	</parameter>
	<parameter name="codedep" class="java.lang.Integer">
		<parameterDescription><![CDATA[код підрозділу]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Integer(1)]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
count_a92
, summa_a92
, count_a95
, summa_a95
, count_dt
, summa_dt
, sum_countfinal_a95
, sum_estimate_a95
, sum_countfinal_dp
, sum_estimate_dp
, sum_countfinal_a92 + sum_countfinal_a80 as sum_countfinal_a92
, sum_estimate_a92 + sum_estimate_a80 as sum_estimate_a92
,(select round(cast(cost*1.2 as decimal), 2) from tkmaterials as ma where ma.code = 75000843) as cost_dt
,(select round(cast(cost*1.2 as decimal), 2) from tkmaterials as ma where ma.code = 75000844) as cost_a95
,(select round(cast(cost*1.2 as decimal), 2) from tkmaterials as ma where ma.code = 500000120) as cost_a92
/*Суммарное кол-во топлива (A-95) на обрезку деревьев и другие работы*/
, coalesce((select sum(es.countfact) from
enestimateitem as es
inner join enplanworkitem as pi on es.planitemrefcode = pi.code
inner join enplanwork as pw on pi.planrefcode = pw.code
inner join tkmaterials as ma on es.materialrefcode = ma.code
inner join tkfueltype as fu on ma.code = fu.materialrefcode
where
pi.kartarefcode in
(/*SUPP-17184*/ 500012836,500012860,500012907,500013247,500013248,500013249,500013250)
and es.kindrefcode = 1
and fu.code = 75000000 /*A-95*/
and pw.datestart  between to_date($P{dateStart} , 'dd.mm.yyyy') and to_date($P{dateFinal} , 'dd.mm.yyyy')
and pw.kindcode = 3
and pw.departmentrefcode in ($P!{strPodr})),0) as qty_obrezka_A95
/*Суммарное кол-во топлива (A-92) на обрезку деревьев и другие работы*/
, coalesce((select sum(es.countfact) from
enestimateitem as es
inner join enplanworkitem as pi on es.planitemrefcode = pi.code
inner join enplanwork as pw on pi.planrefcode = pw.code
inner join tkmaterials as ma on es.materialrefcode = ma.code
inner join tkfueltype as fu on ma.code = fu.materialrefcode
where
pi.kartarefcode in
(
1017017724,11010112, /*SUPP-16819*/ 2017017488, /*SUPP-16555*/ 1017017761,
/*SUPP-23632*/
2017018177, 2017018175, 0602230204, 2017018178
)
and es.kindrefcode = 1
and fu.code = 75000001 /*A-92*/
and pw.datestart  between to_date($P{dateStart} , 'dd.mm.yyyy') and to_date($P{dateFinal} , 'dd.mm.yyyy')
and pw.kindcode = 3
and pw.departmentrefcode in ($P!{strPodr})),0) as qty_obrezka_A92
/*Суммарное кол-во топлива (Дизтопливо) на обрезку деревьев*/
, coalesce((select sum(es.countfact) from
enestimateitem as es
inner join enplanworkitem as pi on es.planitemrefcode = pi.code
inner join enplanwork as pw on pi.planrefcode = pw.code
inner join tkmaterials as ma on es.materialrefcode = ma.code
inner join tkfueltype as fu on ma.code = fu.materialrefcode
where
pi.kartarefcode in
(
/*SUPP-16555*/ 500014825, /*SUPP-17184*/ 500011922,500011910,500011918,500012859,500013812,1017017535,
/*SUPP-23362*/
0602230103, 2017018179, 2017018176
)
and es.kindrefcode = 1
and fu.code = 75000003 /*Дизтопливо*/
and pw.datestart  between to_date($P{dateStart} , 'dd.mm.yyyy') and to_date($P{dateFinal} , 'dd.mm.yyyy')
and pw.kindcode = 3
and pw.departmentrefcode in ($P!{strPodr})),0) as qty_obrezka_dt
from
(Select coalesce(sum(count_a92),0)::numeric(15,2) as count_a92
       , coalesce(sum(summa_a92),0)::numeric(15,2) as summa_a92
       , coalesce(sum(count_a95),0)::numeric(15,2) as count_a95
       , coalesce(sum(summa_a95),0)::numeric(15,2) as summa_a95
       , coalesce(sum(count_dt),0)::numeric(15,2) as count_dt
       , coalesce(sum(summa_dt),0)::numeric(15,2) as summa_dt
       , coalesce((select sum(
		(select fuel.countgenfinal from entravelsheetfuelremns as fuel
		where fuel.dategen <= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and fuel.fueltyperefcode = 75000000
		and fuel.realtransportcode = hi.transportrealrefcode
		order by fuel.dategen desc
		limit 1))   from
		tktransportrealhistory as hi
		where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
        and not(hi.transportrealrefcode = any(array_agg(transportrealcode)))
		and hi.finmolcode in ($P!{molCodes})),0) as sum_countfinal_a95
        , coalesce((select sum(countfact) as countfact from
		(select
			coalesce((select sum(es.countfact - coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0))
			from entravelsheet as ts
			inner join entravelsheetitem as tv on ts.code = tv.travelsheetrefcode
			inner join entravlshttm2trnsprttm as tvti on tv.code = tvti.travelsheetitemrefcode
			inner join entransport2enestimate as ties on tvti.transportitemrefcode = ties.transportrefcode
			inner join enestimateitem as es on es.code = ties.estimaterefcode
			inner join enplanwork as pw on es.planrefcode = pw.code
			inner join tkmaterials as mat on es.materialrefcode = mat.code
			inner join tkfueltype as fu on mat.code = fu.materialrefcode
			where
			pw.datefinal <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and es.countfact > coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0)
			and ts.transportrealcode = hi.transportrealrefcode
			and fu.code = 75000000
			and tv.kindrefcode = 2
			and ts.statusrefcode <> 4),0) as countfact from
			tktransportrealhistory as hi
			where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and hi.finmolcode in ($P!{molCodes})) as subquery), 0) as sum_estimate_a95
       , coalesce((select sum(
		(select fuel.countgenfinal from entravelsheetfuelremns as fuel
		where fuel.dategen <= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and fuel.fueltyperefcode = 75000001
		and fuel.realtransportcode = hi.transportrealrefcode
		order by fuel.dategen desc
		limit 1))   from
		tktransportrealhistory as hi
		where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
        and not(hi.transportrealrefcode = any(array_agg(transportrealcode)))
		and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and hi.finmolcode in ($P!{molCodes})), 0) as sum_countfinal_a92
        , coalesce((select sum(countfact) as countfact from
		(select
			coalesce((select sum(es.countfact - coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0))
			from entravelsheet as ts
			inner join entravelsheetitem as tv on ts.code = tv.travelsheetrefcode
			inner join entravlshttm2trnsprttm as tvti on tv.code = tvti.travelsheetitemrefcode
			inner join entransport2enestimate as ties on tvti.transportitemrefcode = ties.transportrefcode
			inner join enestimateitem as es on es.code = ties.estimaterefcode
			inner join enplanwork as pw on es.planrefcode = pw.code
			inner join tkmaterials as mat on es.materialrefcode = mat.code
			inner join tkfueltype as fu on mat.code = fu.materialrefcode
			where
			pw.datefinal <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and es.countfact > coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0)
			and ts.transportrealcode = hi.transportrealrefcode
			and fu.code = 75000001
			and tv.kindrefcode = 2
			and ts.statusrefcode <> 4),0) as countfact from
			tktransportrealhistory as hi
			where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and hi.finmolcode in ($P!{molCodes})) as subquery), 0) as sum_estimate_a92
       , coalesce((select sum(
		(select fuel.countgenfinal from entravelsheetfuelremns as fuel
		where fuel.dategen <= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and fuel.fueltyperefcode = 75000002
		and fuel.realtransportcode = hi.transportrealrefcode
		order by fuel.dategen desc
		limit 1))   from
		tktransportrealhistory as hi
		where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
        and not(hi.transportrealrefcode = any(array_agg(transportrealcode)))
		and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and hi.finmolcode in ($P!{molCodes})), 0) as sum_countfinal_a80
        , coalesce((select sum(countfact) as countfact from
		(select
			coalesce((select sum(es.countfact - coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0))
			from entravelsheet as ts
			inner join entravelsheetitem as tv on ts.code = tv.travelsheetrefcode
			inner join entravlshttm2trnsprttm as tvti on tv.code = tvti.travelsheetitemrefcode
			inner join entransport2enestimate as ties on tvti.transportitemrefcode = ties.transportrefcode
			inner join enestimateitem as es on es.code = ties.estimaterefcode
			inner join enplanwork as pw on es.planrefcode = pw.code
			inner join tkmaterials as mat on es.materialrefcode = mat.code
			inner join tkfueltype as fu on mat.code = fu.materialrefcode
			where
			pw.datefinal <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and es.countfact > coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0)
			and ts.transportrealcode = hi.transportrealrefcode
			and fu.code = 75000002
			and tv.kindrefcode = 2
			and ts.statusrefcode <> 4),0) as countfact from
			tktransportrealhistory as hi
			where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and hi.finmolcode in ($P!{molCodes})) as subquery), 0) as sum_estimate_a80
       , coalesce((select sum(
		(select fuel.countgenfinal from entravelsheetfuelremns as fuel
		where fuel.dategen <= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and fuel.fueltyperefcode = 75000003
		and fuel.realtransportcode = hi.transportrealrefcode
		order by fuel.dategen desc
		limit 1))   from
		tktransportrealhistory as hi
		where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
		and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
        and not(hi.transportrealrefcode = any(array_agg(transportrealcode)))
		and hi.finmolcode in ($P!{molCodes})), 0) as sum_countfinal_dp
        , coalesce((select sum(countfact) as countfact from
		(select
			coalesce((select sum(es.countfact - coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0))
			from entravelsheet as ts
			inner join entravelsheetitem as tv on ts.code = tv.travelsheetrefcode
			inner join entravlshttm2trnsprttm as tvti on tv.code = tvti.travelsheetitemrefcode
			inner join entransport2enestimate as ties on tvti.transportitemrefcode = ties.transportrefcode
			inner join enestimateitem as es on es.code = ties.estimaterefcode
			inner join enplanwork as pw on es.planrefcode = pw.code
			inner join tkmaterials as mat on es.materialrefcode = mat.code
			inner join tkfueltype as fu on mat.code = fu.materialrefcode
			where
			pw.datefinal <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and es.countfact > coalesce((select sum(ma.quantity) from finmaterials as ma where
			ma.estimateitemrefcode = es.code and ma.statusrefcode = 1),0)
			and ts.transportrealcode = hi.transportrealrefcode
			and fu.code = 75000003
			and tv.kindrefcode = 2
			and ts.statusrefcode <> 4),0) as countfact from
			tktransportrealhistory as hi
			where hi.datestart <= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and coalesce(hi.datefinal, to_date('31.12.9999', 'dd.mm.yyyy')) >= to_date($P{dateFinal}, 'dd.mm.yyyy')
			and hi.finmolcode in ($P!{molCodes})) as subquery), 0) as sum_estimate_dp

From (

Select  p.code
       , case when m.code in (500000120, 500002447) then eni.countfact end as count_a92
       , case when m.code in (500000120, 500002447) then eni.countfact*coalesce((select cost*1.2 from tkmaterials as ma1 where ma1.code = 500000120),0) end as summa_a92
       , case when m.code = 75000844 then eni.countfact end as count_a95
       , case when m.code = 75000844 then eni.countfact*coalesce(m.cost*1.2,0) end as summa_a95
       , case when m.code = 75000843 then eni.countfact end as count_dt
       , case when m.code = 75000843 then eni.countfact*coalesce(m.cost*1.2,0) end as summa_dt
       , ti.transportrealcode

from
enplanwork p , enplanworkitem pi  , entransportitem ti  , entransport2enestimate tr2eni  , enestimateitem eni , tkmaterials m, enworkorder2enplanwork as wopw
where  p.departmentrefcode in ($P!{strPodr})
and p.datestart  between to_date($P{dateStart} , 'dd.mm.yyyy') and to_date($P{dateFinal} , 'dd.mm.yyyy')
and p.kindcode::numeric = 3
and p.statuscode not in (2,6)
and p.code = pi.planrefcode
and pi.countgen <> 0
and p.code = ti.planrefcode
and pi.code = ti.planitemrefcode
and tr2eni.transportrefcode = ti.code
and tr2eni.estimaterefcode = eni.code
and eni.kindrefcode::numeric = 2
and eni.materialrefcode = m.code
and ti.transportrealcode is not null
and wopw.plancode = p.code
) aaa) as aaaa]]>
	</queryString>
	<field name="count_a92" class="java.math.BigDecimal"/>
	<field name="summa_a92" class="java.math.BigDecimal"/>
	<field name="count_a95" class="java.math.BigDecimal"/>
	<field name="summa_a95" class="java.math.BigDecimal"/>
	<field name="count_dt" class="java.math.BigDecimal"/>
	<field name="summa_dt" class="java.math.BigDecimal"/>
	<field name="sum_countfinal_a95" class="java.math.BigDecimal"/>
	<field name="sum_estimate_a95" class="java.math.BigDecimal"/>
	<field name="sum_countfinal_dp" class="java.math.BigDecimal"/>
	<field name="sum_estimate_dp" class="java.math.BigDecimal"/>
	<field name="sum_countfinal_a92" class="java.math.BigDecimal"/>
	<field name="sum_estimate_a92" class="java.math.BigDecimal"/>
	<field name="cost_dt" class="java.math.BigDecimal"/>
	<field name="cost_a95" class="java.math.BigDecimal"/>
	<field name="cost_a92" class="java.math.BigDecimal"/>
	<field name="qty_obrezka_A92" class="java.math.BigDecimal"/>
	<field name="qty_obrezka_dt" class="java.math.BigDecimal"/>
	<field name="qty_obrezka_A95" class="java.math.BigDecimal"/>
	<variable name="neededSumOnRests" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal(500)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(500)]]></initialValueExpression>
	</variable>
	<variable name="neededQtyOnRests_a92" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal(20)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(20)]]></initialValueExpression>
	</variable>
	<variable name="neededQtyOnRests_a95" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal(10)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(10)]]></initialValueExpression>
	</variable>
	<variable name="neededQtyOnRests_dt" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal(20)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(20)]]></initialValueExpression>
	</variable>
	<variable name="restQty92" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{restQty92}]]></variableExpression>
		<initialValueExpression><![CDATA[((com.ksoe.energynet.reports.common.FINScriptlet)$P{REPORT_SCRIPTLET}).getFuelRestByMOLAndType($P{molCodes}, 1, $P{dateFinal}, false).subtract($F{sum_countfinal_a92}).subtract($F{sum_estimate_a92})]]></initialValueExpression>
	</variable>
	<variable name="restQty95" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{restQty95}]]></variableExpression>
		<initialValueExpression><![CDATA[((com.ksoe.energynet.reports.common.FINScriptlet)$P{REPORT_SCRIPTLET}).getFuelRestByMOLAndType($P{molCodes}, 3, $P{dateFinal}, false).subtract($F{sum_countfinal_a95}).subtract($F{sum_estimate_a95})]]></initialValueExpression>
	</variable>
	<variable name="restQtyDP" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{restQtyDP}]]></variableExpression>
		<initialValueExpression><![CDATA[((com.ksoe.energynet.reports.common.FINScriptlet)$P{REPORT_SCRIPTLET}).getFuelRestByMOLAndType($P{molCodes}, 2, $P{dateFinal}, false).subtract($F{sum_countfinal_dp}).subtract($F{sum_estimate_dp})]]></initialValueExpression>
	</variable>
	<variable name="diffRestPotreb_a92" class="java.math.BigDecimal">
		<variableExpression><![CDATA[($V{restQty92}.subtract($F{count_a92})).multiply($F{cost_a92})]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="diffRestPotreb_a95" class="java.math.BigDecimal">
		<variableExpression><![CDATA[($V{restQty95}.subtract($F{count_a95})).multiply($F{cost_a95})]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="diffRestPotreb_dt" class="java.math.BigDecimal">
		<variableExpression><![CDATA[($V{restQtyDP}.subtract($F{count_dt})).multiply($F{cost_dt})]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="diff_a92" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( !$P{departmentCoSubDepCodes}.contains($P{codedep}) ? ( ($F{count_a92}.subtract($V{restQty92})).compareTo(new BigDecimal(0)) > 0 ? ($F{count_a92}.subtract($V{restQty92}).add($V{neededQtyOnRests_a92}))
    : ( ($V{restQty92}.subtract($F{count_a92})).compareTo($V{neededQtyOnRests_a92}) < 0 ? $V{neededQtyOnRests_a92}.subtract($V{restQty92}.subtract($F{count_a92}))
        : new BigDecimal(0) ) )
    /*Добавление кол-ва топлива на обрезку деревьев*/
    .add($F{qty_obrezka_A92}) : new BigDecimal(0) )

]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="diff_a95" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( !$P{departmentCoSubDepCodes}.contains($P{codedep}) ? ( ($F{count_a95}.subtract($V{restQty95})).compareTo(new BigDecimal(0)) > 0 ? ($F{count_a95}.subtract($V{restQty95}).add($V{neededQtyOnRests_a95}))
    : ( ($V{restQty95}.subtract($F{count_a95})).compareTo($V{neededQtyOnRests_a95}) < 0 ? $V{neededQtyOnRests_a95}.subtract($V{restQty95}.subtract($F{count_a95}))
        : new BigDecimal(0) ) )
        /*Добавление кол-ва топлива на обрезку деревьев*/
    .add($F{qty_obrezka_A95}) : new BigDecimal(0) )]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="diff_dt" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( !$P{departmentCoSubDepCodes}.contains($P{codedep}) ? ( ($F{count_dt}.subtract($V{restQtyDP})).compareTo(new BigDecimal(0)) > 0 ? ($F{count_dt}.subtract($V{restQtyDP}).add($V{neededQtyOnRests_dt}))
    : ( ($V{restQtyDP}.subtract($F{count_dt})).compareTo($V{neededQtyOnRests_dt}) < 0 ? $V{neededQtyOnRests_dt}.subtract($V{restQtyDP}.subtract($F{count_dt}))
        : new BigDecimal(0) ) )
        /*Добавление кол-ва топлива на обрезку деревьев*/
    .add($F{qty_obrezka_dt}) : new BigDecimal(0) )

]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="overallSum" class="java.math.BigDecimal">
		<variableExpression><![CDATA[/*( $V{restQty92}.compareTo($F{count_a92}) >= 0 ? ( $V{diffRestPotreb_a92}.compareTo($V{neededSumOnRests}) < 0 ? ($V{neededSumOnRests}.subtract($V{diffRestPotreb_a92})) : new BigDecimal(0) ) : ((($F{count_a92}.subtract($V{restQty92})).multiply($F{cost_a92}))).add($V{neededSumOnRests}) )
.add(( $V{restQty95}.compareTo($F{count_a95}) >= 0 ? ( $V{diffRestPotreb_a95}.compareTo($V{neededSumOnRests}) < 0 ? ($V{neededSumOnRests}.subtract($V{diffRestPotreb_a95})) : new BigDecimal(0) ) : ((($F{count_a95}.subtract($V{restQty95})).multiply($F{cost_a95}))).add($V{neededSumOnRests}) ))
.add(( $V{restQtyDP}.compareTo($F{count_dt}) >= 0 ? ( $V{diffRestPotreb_dt}.compareTo($V{neededSumOnRests}) < 0 ? ($V{neededSumOnRests}.subtract($V{diffRestPotreb_dt})) : new BigDecimal(0) ) : ((($F{count_dt}.subtract($V{restQtyDP})).multiply($F{cost_dt}))).add($V{neededSumOnRests}) ))
*/

($V{diff_a92}.multiply($F{cost_a92}))
.add($V{diff_a95}.multiply($F{cost_a95}))
.add($V{diff_dt}.multiply($F{cost_dt}))]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_count_a92" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{count_a92}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_count_a92_obrezka" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{qty_obrezka_A92}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_count_a95" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{count_a95}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_count_dt" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{count_dt}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_count_dt_obrezka" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$F{qty_obrezka_dt}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_count_a95_obrezka" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{qty_obrezka_A95}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_cost_a92" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{diff_a92}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_cost_a95" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{diff_a95}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_cost_dt" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{diff_dt}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_rest_a92" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{restQty92}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_rest_a95" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{restQty95}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_rest_dt" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{restQtyDP}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="overallVendorSum" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( $P{vendorCode} > 0 ? $V{overallSum} : new BigDecimal(0) )]]></variableExpression>
		<initialValueExpression><![CDATA[( $P{vendorCode} > 0 ? $V{overallSum} : new BigDecimal(0) )]]></initialValueExpression>
	</variable>
	<variable name="vendor1sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[( $P{vendorCode} == 1 ? $V{overallVendorSum} : new BigDecimal(0) )]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="vendor2sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[( $P{vendorCode} == 2 ? $V{overallVendorSum} : new BigDecimal(0) )]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="vendor3sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[( $P{vendorCode} == 3 ? $V{overallVendorSum} : new BigDecimal(0) )]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="vendor4sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[( $P{vendorCode} == 4 ? $V{overallVendorSum} : new BigDecimal(0) )]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="vendor5sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[( $P{vendorCode} == 5 ? $V{overallVendorSum} : new BigDecimal(0) )]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="priceA95" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{cost_a95}.setScale( 2, BigDecimal.ROUND_HALF_UP)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="priceA92" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{cost_a92}.setScale( 2, BigDecimal.ROUND_HALF_UP)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="priceDT" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{cost_dt}.setScale( 2, BigDecimal.ROUND_HALF_UP)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="a92sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{diff_a92}.multiply($F{cost_a92}).setScale(2, BigDecimal.ROUND_HALF_UP)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="a95sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{diff_a95}.multiply($F{cost_a95}).setScale(2, BigDecimal.ROUND_HALF_UP)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="dtsum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{diff_dt}.multiply($F{cost_dt}).setScale(2, BigDecimal.ROUND_HALF_UP)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="restQty95VRTU" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{restQty95VRTU}]]></variableExpression>
		<initialValueExpression><![CDATA[((com.ksoe.energynet.reports.common.FINScriptlet)$P{REPORT_SCRIPTLET}).getFuelRestByMOLAndType($P{molCodes}, 3, $P{dateFinal}, true)]]></initialValueExpression>
	</variable>
	<variable name="restQty92VRTU" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{restQty92VRTU}]]></variableExpression>
		<initialValueExpression><![CDATA[((com.ksoe.energynet.reports.common.FINScriptlet)$P{REPORT_SCRIPTLET}).getFuelRestByMOLAndType($P{molCodes}, 1, $P{dateFinal}, true)]]></initialValueExpression>
	</variable>
	<variable name="restQtyDPVRTU" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{restQtyDPVRTU}]]></variableExpression>
		<initialValueExpression><![CDATA[((com.ksoe.energynet.reports.common.FINScriptlet)$P{REPORT_SCRIPTLET}).getFuelRestByMOLAndType($P{molCodes}, 2, $P{dateFinal}, true)]]></initialValueExpression>
	</variable>
	<variable name="sum_rest_dt_vrtu" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{restQtyDPVRTU}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_rest_a95_vrtu" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{restQty95VRTU}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_rest_a92_vrtu" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$V{restQty92VRTU}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-3" stretchType="RelativeToTallestObject" x="0" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{count_a92}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-4" stretchType="RelativeToTallestObject" x="320" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{diff_a92}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-5" stretchType="RelativeToTallestObject" x="400" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{count_a95}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-6" stretchType="RelativeToTallestObject" x="720" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{diff_a95}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-7" stretchType="RelativeToTallestObject" x="900" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{count_dt}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="1220" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{diff_dt}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="560" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{restQty95}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="1060" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{restQtyDP}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="1300" y="0" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{dtsum}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="800" y="0" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{a92sum})
.add($V{a95sum})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-3" stretchType="RelativeToTallestObject" x="80" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qty_obrezka_A92}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-7" stretchType="RelativeToTallestObject" x="980" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qty_obrezka_dt}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-5" stretchType="RelativeToTallestObject" x="480" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qty_obrezka_A95}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="160" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{restQty92}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="240" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{restQty92VRTU}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="640" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{restQty95VRTU}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" x="1140" y="0" width="80" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{restQtyDPVRTU}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
