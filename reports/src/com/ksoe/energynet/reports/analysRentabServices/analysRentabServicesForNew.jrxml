<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="analysRentabServicesForNew" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isIgnorePagination="true">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="277"/>
	<property name="net.sf.jasperreports.export.xls.cell.locked" value="false"/>
	<property name="net.sf.jasperreports.export.xls.detect.cell.type" value="true"/>
	<parameter name="plancode" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT
	plan_part.plan_calculation_code
	, plan_part.classification_code
	,plan_part.contractnumberservices
	, plan_part.contractdateservices
	, plan_part.depname
	, plan_part.name_work
	, plan_part.enservicescontractstts
	, fact_part.statusacts
	, fact_part.datesacts
	, fact_part.dateszadaniefact
	, plan_part.calccostplan
	, plan_part.materialscostplan
	, plan_part.transportcostplan
	, plan_part.deliverycostplan
	, plan_part.calccostplan AS sumgenplan
	, CASE WHEN plan_part.only_salary_calc
		THEN 0
		ELSE (fact_part.fuel + fact_part.transportpayswork
			+ fact_part.salary_d + fact_part.chargesum_d) END AS transportcostfact
	, CASE WHEN plan_part.only_salary_calc
		THEN 0
		ELSE fact_part.delivery END AS deliverycostfact
	, CASE WHEN NOT counter_was_given AND (fact_part.act_type = 7
		AND (plan_part.calckindrefcode IN (1,3)
			OR plan_part.is_connection OR (plan_part.calckindrefcode = 2 AND plan_part.replacecounterkindcode = 1))) THEN
			counters
		ELSE 0 END
	+ CASE WHEN plan_part.calckindrefcode IN (1,3)
		THEN (materials + seals)
		ELSE 0 END AS materialscostfact
	, CASE WHEN plan_part.replacecounterkindcode = 2 AND isnopay THEN 0
		WHEN calckindrefcode IN (1,3)
		THEN generalexpenses_e + generalexpenses_d
		WHEN calckindrefcode = 2
		THEN generalexpenses_e
		END
	+ CASE WHEN calckindrefcode IN (1,3)
	THEN salary_e + chargesum_e + salary_d + chargesum_d
	ELSE salary_e + chargesum_e END AS calccostfact
	, payments.sumprepay
	, payments.sumrestoplata
FROM
(SELECT ct.code AS classification_code
	, pwct.code AS plan_calculation_code
	, so.code AS services_code
	, pwct.calckindrefcode
	, ct.replacecounterkindcode
	, so.contracttyperefcode = 5 AS is_connection
	, so.contractnumberservices
	, to_char(so.contractdateservices,'dd.mm.yyyy') AS contractdateservices
	, de.name AS depname
	, ct.kod||' '||ct.name|| ' - ' ||pwct.countgen|| ' шт.' AS name_work
	, status.name AS enservicescontractstts
	, CASE WHEN pwct.calckindrefcode = 2 THEN TRUE ELSE FALSE END AS only_salary_calc
	, coalesce(sum(total_cost.calculationcost), 0) AS calccostplan
	, CASE WHEN ct.replacecounterkindcode = 1 OR NOT (pwct.calckindrefcode = 2) THEN coalesce(sum(total_cost.materialexpenses),0) ELSE 0 END AS materialscostplan
	, coalesce(sum(total_cost.transportexpenses),0) AS transportcostplan
	, coalesce(sum(total_cost.deliverycost),0) AS deliverycostplan
	, EXISTS (SELECT FROM engivecounter  WHERE engivecounter.plan2cltyperefcode = pwct.code) AS counter_was_given
	, so.isnopay = 1 AS isnopay
FROM
enservicesobject AS so
INNER JOIN enplanwork AS pw ON so.elementcode = pw.elementrefcode
INNER JOIN enplanwork2classfctntp AS pwct ON pw.code = pwct.planrefcode
INNER JOIN tkclassificationtype AS ct ON pwct.classificationtyperfcd = ct.code
INNER JOIN endepartment AS de ON so.departmentcode = de.code
INNER JOIN enservicescontractstts AS status ON so.contractstatusrefcode = status.code
INNER JOIN encalctotalcost AS total_cost ON pwct.code = total_cost.plan2ctyperefcode
WHERE pw.code = $P{plancode}
GROUP BY pwct.code, so.code, de.name, ct.code, status.name) AS plan_part
INNER JOIN (
SELECT tc.classificationtypecode AS classification_code
, pw.staterefcode AS act_type
, string_agg(DISTINCT to_char(ac.dateact, 'dd.mm.yyyy'), ',') AS datesacts
, string_agg(DISTINCT actstatus.name, ',') AS statusacts
, string_agg(DISTINCT to_char(pw.datestart, 'dd.mm.yyyy'), ',') AS dateszadaniefact
, coalesce(transport_cost.payswork, 0) AS transportpayswork
, coalesce(sum(salary.salary_e), 0) AS salary_e
, coalesce(sum(salary.chargesum_e), 0) AS chargesum_e
, coalesce(sum(salary.salary_d), 0) AS salary_d
, coalesce(sum(salary.chargesum_d), 0) AS chargesum_d
, coalesce(sum(salary.delivery), 0) AS delivery
, coalesce(sum(salary.generalexpenses_e), 0) AS generalexpenses_e
, coalesce(sum(salary.generalexpenses_d), 0) AS generalexpenses_d
, coalesce(sum((SELECT sum(ma.cost) FROM finmaterials AS ma
				INNER JOIN enestimateitem AS es ON ma.estimateitemrefcode = es.code
				WHERE es.planitemrefcode = pi.code
				AND ma.statusrefcode = 1 AND es.kindrefcode = 1)), 0) AS materials
, coalesce(sum((SELECT sum(ma.cost) FROM finmaterials AS ma
				INNER JOIN enestimateitem AS es ON ma.estimateitemrefcode = es.code
				WHERE es.planitemrefcode = pi.code
				AND ma.statusrefcode = 1 AND es.kindrefcode = 2)), 0) AS fuel
, coalesce(sum((SELECT sum(ss.cost) FROM scseal AS ss
				INNER JOIN enestimateitem AS es ON ss.estimateitemrefcode = es.code
				WHERE es.planitemrefcode = pi.code
				AND ss.statusrefcode IN (1, 3) AND es.kindrefcode = 1)), 0) AS seals
, coalesce(sum((SELECT sum(sc.costold) FROM sccounter AS sc
				INNER JOIN enestimateitem AS es ON sc.estimateitemrefcode = es.code
				WHERE es.planitemrefcode = pi.code
				AND sc.account <> '1534' AND es.countfact <> 0 AND es.kindrefcode = 1)), 0) AS counters
			FROM enplancorrecthistory AS h
			INNER JOIN enplancorrecthistory AS h1 ON h.plannewrefcode = h1.planoldrefcode
			INNER JOIN enplancorrecthistory AS h2 ON h1.plannewrefcode = h2.planoldrefcode
			INNER JOIN enplanwork AS pw ON h2.plannewrefcode = pw.code
			INNER JOIN enplanworkitem AS pi ON h2.plannewrefcode = pi.planrefcode
			INNER JOIN tktechcard AS tc ON pi.kartarefcode = tc.code
			LEFT JOIN (enact2enplanwork AS acpw
				INNER JOIN enact AS ac ON acpw.actrefcode = ac.code
				INNER JOIN enactstatus AS actstatus ON ac.statusrefcode = actstatus.code
				) ON h2.plannewrefcode = acpw.plancode
			LEFT JOIN (SELECT actr.actrefcode, actr.classificationtyperfcd, sum(actr.payswork) AS payswork
				FROM enact2transport AS actr
				GROUP BY actr.actrefcode, actr.classificationtyperfcd) AS transport_cost
					ON (acpw.actrefcode = transport_cost.actrefcode AND tc.classificationtypecode = transport_cost.classificationtyperfcd)
			LEFT JOIN (SELECT pihu.plaitemrefcode AS planitemrefcode
					, CASE WHEN humenkindrefcode = 1
						THEN round(sum(coalesce(pihu.paysworkwithallsurchrg, 0)), 2) - round(sum(coalesce(pihu.pswrkwthllsrchrgwthtdl, 0)), 2)
							+ round(sum(coalesce(pihu.chargesum, 0)), 2) - round(sum(coalesce(pihu.chargesumwithoutdeliv, 0)), 2)
					ELSE 0 END AS delivery
					, CASE WHEN humenkindrefcode = 1 THEN round(sum(coalesce(pihu.pswrkwthllsrchrgwthtdl, 0)), 2)
					ELSE 0
					END AS salary_e
					, CASE WHEN humenkindrefcode = 1 THEN round(sum(coalesce(pihu.chargesumwithoutdeliv, 0)), 2)
					ELSE 0
					END AS chargesum_e
					, CASE WHEN humenkindrefcode = 2 THEN round(sum(coalesce(pihu.paysworkwithallsurchrg, 0)), 2)
					ELSE 0
					END AS salary_d
					, CASE WHEN humenkindrefcode = 2 THEN round(sum(coalesce(pihu.chargesum, 0)), 2)
					ELSE 0
					END AS chargesum_d
					, CASE WHEN humenkindrefcode = 1
					THEN round(cast(sum(coalesce(pihu.generalexpenses, 0)) as decimal), 2)
					ELSE 0
					END AS generalexpenses_e
					, CASE WHEN humenkindrefcode = 2
					THEN round(cast(sum(coalesce(pihu.generalexpenses, 0)) as decimal), 2)
					ELSE 0
					END AS generalexpenses_d
					FROM enplanworkitem2humen AS pihu
					GROUP BY pihu.plaitemrefcode, pihu.humenkindrefcode
			) AS salary ON pi.code = salary.planitemrefcode
			WHERE h.reasoncode = 13
				AND h1.reasoncode = 4
				AND h2.reasoncode = 5
				AND h.planoldrefcode = $P{plancode}
GROUP BY classification_code, act_type, transportpayswork) AS fact_part ON plan_part.classification_code = fact_part.classification_code
LEFT JOIN (SELECT enpayment2so.servicesobjectrefcode AS services_code
, coalesce(sum(CASE WHEN enpayment2so.paymenttyperefcode = 1 THEN enpayment2so.sumtotal ELSE 0 END), 0) AS sumprepay
, coalesce(sum(CASE WHEN enpayment2so.paymenttyperefcode = 2 THEN enpayment2so.sumtotal ELSE 0 END), 0) AS sumrestoplata
FROM enpayment2so GROUP BY services_code) AS payments ON plan_part.services_code = payments.services_code]]>
	</queryString>
	<field name="calccostplan" class="java.math.BigDecimal"/>
	<field name="materialscostplan" class="java.math.BigDecimal"/>
	<field name="transportcostplan" class="java.math.BigDecimal"/>
	<field name="deliverycostplan" class="java.math.BigDecimal"/>
	<field name="sumgenplan" class="java.math.BigDecimal"/>
	<field name="depname" class="java.lang.String">
		<fieldDescription><![CDATA[Підрозділ (ФК)]]></fieldDescription>
	</field>
	<field name="name_work" class="java.lang.String"/>
	<field name="calccostfact" class="java.math.BigDecimal"/>
	<field name="materialscostfact" class="java.math.BigDecimal"/>
	<field name="transportcostfact" class="java.math.BigDecimal"/>
	<field name="deliverycostfact" class="java.math.BigDecimal"/>
	<field name="contractnumberservices" class="java.lang.String"/>
	<field name="contractdateservices" class="java.lang.String"/>
	<field name="sumprepay" class="java.math.BigDecimal"/>
	<field name="dateszadaniefact" class="java.lang.String"/>
	<field name="datesacts" class="java.lang.String"/>
	<field name="statusacts" class="java.lang.String"/>
	<field name="enservicescontractstts" class="java.lang.String"/>
	<field name="sumrestoplata" class="java.math.BigDecimal"/>
	<field name="plan_calculation_code" class="java.lang.Integer"/>
	<field name="classification_code" class="java.lang.Integer"/>
	<variable name="overallCostsFact" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{overallCostsFact}]]></variableExpression>
		<initialValueExpression><![CDATA[$F{calccostfact}.
add($F{materialscostfact}).
add($F{transportcostfact}).
add($F{deliverycostfact})]]></initialValueExpression>
	</variable>
	<variable name="overallCostsPlan" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{overallCostsPlan}]]></variableExpression>
		<initialValueExpression><![CDATA[$F{calccostplan}.
add($F{materialscostplan}).
add($F{transportcostplan}).
add($F{deliverycostplan})]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="26" splitType="Stretch">
			<textField isStretchWithOverflow="true" evaluationTime="Report" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-132" x="311" y="0" width="220" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Times New Roman" size="6" pdfFontName="times.ttf"/>
				</textElement>
				<textFieldExpression><![CDATA["Дата формування аналізу " +
new SimpleDateFormat("dd.MM.yyyy HH:mm:ss").format(new Date())]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="331" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-52" positionType="Float" mode="Opaque" x="311" y="105" width="60" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{materialscostplan}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-20" positionType="Float" mode="Opaque" x="20" y="190" width="291" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Разом (п.1 + п.2 + п.3 + п.4 )"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-12" positionType="Float" mode="Opaque" x="0" y="105" width="20" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["2"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement key="staticText-6" positionType="Float" mode="Opaque" x="311" y="60" width="60" height="30" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="none">
					<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="timesbd.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Доход, грн.(остаточн.розрах.)"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-23" positionType="Float" mode="Opaque" x="0" y="190" width="20" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["5"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement key="staticText-2" positionType="Float" mode="Opaque" x="20" y="60" width="291" height="30" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="none">
					<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="timesbd.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Показники"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-51" positionType="Float" mode="Opaque" x="311" y="90" width="60" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{calccostplan}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-55" positionType="Float" mode="Opaque" x="311" y="190" width="60" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{overallCostsPlan}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-16" positionType="Float" mode="Opaque" x="0" y="120" width="20" height="30" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["3"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-53" positionType="Float" mode="Opaque" x="311" y="120" width="60" height="30" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{transportcostplan}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-9" positionType="Float" mode="Opaque" x="20" y="90" width="291" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Калькуляційна вартість"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-54" positionType="Float" mode="Opaque" x="311" y="150" width="60" height="40" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{deliverycostplan}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-33" positionType="Float" mode="Opaque" x="20" y="150" width="291" height="40" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Вартість знаходження спеціалістів у дорозі з урахуванням єдиного внеску на загальнообов'язкове державне соціальне страхування"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-13" positionType="Float" mode="Opaque" x="20" y="105" width="291" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Матеріальні витрати"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-17" positionType="Float" mode="Opaque" x="20" y="120" width="291" height="30" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Витрати, пов'язані з використанням машин (механізмів)"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement key="staticText-1" positionType="Float" mode="Opaque" x="0" y="60" width="20" height="30" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="none">
					<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="timesbd.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["№ з.п"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-8" positionType="Float" mode="Opaque" x="0" y="90" width="20" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["1"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-32" positionType="Float" mode="Opaque" x="0" y="150" width="20" height="40" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["4"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-20" positionType="Float" mode="Opaque" x="0" y="253" width="420" height="22" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
					<font fontName="Times New Roman" size="10" isBold="true" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" в т.ч Заробітна плата"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-53" positionType="Float" mode="Opaque" x="371" y="120" width="60" height="30" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{transportcostfact}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement key="staticText-6" positionType="Float" mode="Opaque" x="371" y="60" width="60" height="30" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="none">
					<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="timesbd.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Витрати, грн.(акт вик. робіт)"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-51" positionType="Float" mode="Opaque" x="371" y="90" width="60" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{calccostfact}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-54" positionType="Float" mode="Opaque" x="371" y="150" width="60" height="40" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{deliverycostfact}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-55" positionType="Float" mode="Opaque" x="371" y="190" width="60" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{overallCostsFact}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-52" positionType="Float" mode="Opaque" x="371" y="105" width="60" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{materialscostfact}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-55" positionType="Float" mode="Opaque" x="431" y="190" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{overallCostsPlan}.subtract(
$V{overallCostsFact}
)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement key="staticText-6" positionType="Float" mode="Opaque" x="431" y="60" width="50" height="30" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="none">
					<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="timesbd.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Фін. результат, грн."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-54" positionType="Float" mode="Opaque" x="431" y="150" width="50" height="40" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{deliverycostplan}.subtract($F{deliverycostfact})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-51" positionType="Float" mode="Opaque" x="431" y="90" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{calccostplan}.subtract($F{calccostfact})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-53" positionType="Float" mode="Opaque" x="431" y="120" width="50" height="30" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{transportcostplan}.subtract($F{transportcostfact})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-52" positionType="Float" mode="Opaque" x="431" y="105" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{materialscostplan}.subtract($F{materialscostfact})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement key="staticText-6" positionType="Float" mode="Opaque" x="481" y="60" width="50" height="30" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="none">
					<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="timesbd.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Рентабельність, %."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-51" positionType="Float" mode="Opaque" x="481" y="90" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{calccostfact}.compareTo(new BigDecimal(0)) == 1 ?
($F{calccostplan}.subtract($F{calccostfact}))
.divide($F{calccostfact} , BigDecimal.ROUND_HALF_UP , 6).
multiply(new BigDecimal(100)).setScale(2, BigDecimal.ROUND_HALF_UP)
: new BigDecimal(0)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-55" positionType="Float" mode="Opaque" x="481" y="190" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[( $V{overallCostsFact}.compareTo(BigDecimal.ZERO) == 1
    ?
$V{overallCostsPlan}.subtract(
$V{overallCostsFact}
).divide((
$V{overallCostsFact}
) , BigDecimal.ROUND_HALF_UP , 6).
multiply(new BigDecimal(100)).setScale(2, BigDecimal.ROUND_HALF_UP)
    : BigDecimal.ZERO )]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-53" positionType="Float" mode="Opaque" x="481" y="120" width="50" height="30" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{transportcostfact}.compareTo(new BigDecimal(0)) == 1 ?
($F{transportcostplan}.subtract($F{transportcostfact}))
.divide($F{transportcostfact} , BigDecimal.ROUND_HALF_UP , 6).
multiply(new BigDecimal(100)).setScale(2, BigDecimal.ROUND_HALF_UP)
: new BigDecimal(0)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-54" positionType="Float" mode="Opaque" x="481" y="150" width="50" height="40" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{deliverycostfact}.compareTo(new BigDecimal(0)) == 1 ?
($F{deliverycostplan}.subtract($F{deliverycostfact}))
.divide($F{deliverycostfact} , BigDecimal.ROUND_HALF_UP , 6).
multiply(new BigDecimal(100)).setScale(2, BigDecimal.ROUND_HALF_UP)
: new BigDecimal(0)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#0.00" isBlankWhenNull="true">
				<reportElement key="textField-52" positionType="Float" mode="Opaque" x="481" y="105" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{materialscostfact}.compareTo(new BigDecimal(0)) == 1 ?
($F{materialscostplan}.subtract($F{materialscostfact}))
.divide($F{materialscostfact} , BigDecimal.ROUND_HALF_UP , 6).
multiply(new BigDecimal(100)).setScale(2, BigDecimal.ROUND_HALF_UP)
: new BigDecimal(0)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-20" mode="Opaque" x="0" y="0" width="531" height="60" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["   Аналіз рентабельності по договору робіт(послуг) № "+ $F{contractnumberservices}
+"   \n Дата " + $F{contractdateservices}
+"   \n Підрозділ " + $F{depname}
+"   \n Робота " + $F{name_work}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="subreport-9" positionType="Float" mode="Opaque" x="0" y="275" width="600" height="20" isPrintWhenDetailOverflows="true"/>
				<parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
				<subreportParameter name="classification_code">
					<subreportParameterExpression><![CDATA[$F{classification_code}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="enservicescontractstts">
					<subreportParameterExpression><![CDATA[$F{enservicescontractstts}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="dateszadaniefact">
					<subreportParameterExpression><![CDATA[$F{dateszadaniefact}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="plan_calculation_code">
					<subreportParameterExpression><![CDATA[$F{plan_calculation_code}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="statusacts">
					<subreportParameterExpression><![CDATA[$F{statusacts}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="datesacts">
					<subreportParameterExpression><![CDATA[$F{datesacts}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="plancode">
					<subreportParameterExpression><![CDATA[$P{plancode}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[getClass().getResourceAsStream("/com/ksoe/energynet/reports/analysRentabServices/analysRentabServicesZPForNew.jasper")
/*"C:/ReportCompile/analysRentabServicesZPForNew.jasper"*/]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-20" positionType="Float" mode="Opaque" x="0" y="205" width="311" height="16" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" Попередня оплата: " + $F{sumprepay}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-20" positionType="Float" mode="Opaque" x="0" y="221" width="220" height="16" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
					<font fontName="Times New Roman" size="9" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" Остаточна оплата: " + $F{sumrestoplata}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="subreport-9" positionType="Float" mode="Opaque" x="0" y="311" width="600" height="20" isPrintWhenDetailOverflows="true"/>
				<parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
				<subreportParameter name="classification_code">
					<subreportParameterExpression><![CDATA[$F{classification_code}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="plan_calculation_code">
					<subreportParameterExpression><![CDATA[$F{plan_calculation_code}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="plancode">
					<subreportParameterExpression><![CDATA[$P{plancode}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[getClass().getResourceAsStream("/com/ksoe/energynet/reports/analysRentabServices/analysRentabServicesMaterial.jasper")
/*"C:/ReportCompile/analysRentabServicesMaterial.jasper"*/]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-20" positionType="Float" mode="Opaque" x="0" y="295" width="600" height="16" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None">
					<font fontName="Times New Roman" size="10" isBold="true" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["    Матеріали з кошториса, та використані фактично : "]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
