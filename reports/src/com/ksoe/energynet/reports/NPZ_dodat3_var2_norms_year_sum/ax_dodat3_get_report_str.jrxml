<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ax_dodat3_get_report_str" pageWidth="50" pageHeight="535" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="50" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" scriptletClass="com.ksoe.energynet.reports.common.FINScriptlet">
	<property name="ireport.scriptlethandling" value="2"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="style1" mode="Opaque" hAlign="Left" markup="none" isStrikeThrough="true">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{var_col6}.doubleValue() > 0 ?
new Boolean(
 ( ($V{var_col34}.divide($V{var_col6}, 8 , 2).multiply( new BigDecimal(100))) ).doubleValue() < 60
 & $P{pcountpers}.doubleValue() > 0 )
: false]]></conditionExpression>
			<style forecolor="#FFFFFF" backcolor="#FF0033" markup="none"/>
		</conditionalStyle>
	</style>
	<scriptlet name="mDaxScriptlet" class="com.ksoe.energynet.reports.common.mDaxScriptlet"/>
	<parameter name="Ppodrkod" class="java.lang.String" isForPrompting="false"/>
	<parameter name="Ppodr_name" class="java.lang.String" isForPrompting="false"/>
	<parameter name="pdate1" class="java.lang.String" isForPrompting="false"/>
	<parameter name="pdate2" class="java.lang.String"/>
	<parameter name="plankind" class="java.lang.Integer"/>
	<parameter name="budgcode" class="java.lang.String"/>
	<parameter name="pcountpers" class="java.math.BigDecimal">
		<defaultValueExpression><![CDATA[new BigDecimal(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="shortname" class="java.lang.String"/>
	<parameter name="p_countworkhours" class="java.math.BigDecimal"/>
	<parameter name="stringEmplid" class="java.lang.String"/>
	<parameter name="sumhoursotpusk" class="java.math.BigDecimal"/>
	<queryString>
		<![CDATA[select /*sub3*/  case when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '01' then 'Січень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '02' then 'Лютий'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '03' then 'Березень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '04' then 'Квітень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '05' then 'Травень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '06' then 'Червень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '07' then 'Липень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '08' then 'Серпень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '09' then 'Вересень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '10' then 'Жовтень'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '11' then 'Листопад'
              when to_char(to_date($P{pdate2},'dd.mm.yyyy'),'mm') = '12' then 'Грудень'
            end  as period  ,



 --- выборка отработаных часов по работникам строго по своему ПОДРАЗДЕЛЕНИЮ ( по штатному )
  coalesce((  select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork  , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and (  enplanwork.typerefcode = 5 /* инвест программа */
                          or  ( enplanwork.typerefcode  = 10 /*непл. раб. */  and  enplanwork.staterefcode = 4 /*кап буд*/ )

                         )
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})

 ),0) as realizac_invest_progr
            , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork , finexecutor , finexecutor2plan
                   Where enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні */
                     and  enplanwork.typerefcode = 7 /*присоединение*/
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as vikonan_work_priconection
            , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork , finexecutor  , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні */
                     and  enplanwork.typerefcode in (6, 100, 101, 102, 103, 104, 105, 106, 107,111,112) /*енергозбыт*/
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as work_in_energozbut

            , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.typerefcode = 3 /*роботи за приписом */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as work_on_pripis

 ----- ТП -10/0,4 кВ
 , coalesce((   select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork , enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in (21 ,  3 ) /*ТП 0.4 кВ*/
                     and  enplanwork.staterefcode in ( 1 , 8 )  /*Кап ремонт или доробка */
                     and  enplanwork.typerefcode in ( 1 /*, 10*/ )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_14
  , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork , enelement , finexecutor ,finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in (21 ,  3 ) /*ТП 0.4 кВ*/
                     and  enplanwork.staterefcode in ( 1 , 8 )  /*Кап ремонт или доробка */
                     and  enplanwork.typerefcode in ( /*1 ,*/ 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_14_vneplan
 , coalesce((   select  sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні ,  річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 3 /*ТП 0.4 кВ*/
                     and  enplanwork.staterefcode = 1 /*Кап ремонт*/
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_15
 , coalesce((  select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor  , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні , річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 3 /*ТП 0.4 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode in ( 1 , 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_16
  , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from
                                                        enplanwork ,  enelement , finexecutor  , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 3 /*ТП 0.4 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_17
 ------------ ПЛ - 10,/0,4 кВ --------------------------------------------------
  , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor ,finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in (1, 2) /*Повітряна лінія 0.4 - 10 кВ*/
                     and  enplanwork.staterefcode in ( 1 , 8 )  /*Кап ремонт или доробка */
                     and  enplanwork.typerefcode in ( 1 /*, 10*/ )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_18
 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in (1, 2) /*Повітряна лінія 0.4 - 10 кВ*/
                     and  enplanwork.staterefcode in ( 1 , 8 )  /*Кап ремонт или доробка */
                     and  enplanwork.typerefcode in ( /*1 ,*/ 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_18_vneplan
 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork , enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні , річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in (1, 2) /*Повітряна лінія 0.4-10 кВ*/
                     and  enplanwork.staterefcode = 1 /*Кап ремонт*/
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_19
 , coalesce((    select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork , enelement ,  finexecutor  , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in (1, 2) /*Повітряна лінія 0.4 - 10 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode in ( 1 , 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_20
  , coalesce((     select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in (1, 2) /*Повітряна лінія 0.4-10 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_21
 ,
 ---------------- КЛ -0,4/10/35 кВ ---------------------------------------------
 coalesce(( select  sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 11 /*КЛ - 0,4/10/35 кВ*/
                     and  enplanwork.staterefcode in ( 1 , 8 ) /*Кап ремонт или доробка */
                     and  enplanwork.typerefcode in ( 1 /*, 10*/ )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_22
,  coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 11 /*КЛ - 0,4/10/35 кВ*/
                     and  enplanwork.staterefcode in ( 1 , 8 ) /*Кап ремонт или доробка */
                     and  enplanwork.typerefcode in ( /*1 , */ 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_22_vneplan

 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні ,  річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 11 /*КЛ - 0,4/10/35 кВ*/
                     and  enplanwork.staterefcode = 1 /*Кап ремонт*/
                     and  enplanwork.typerefcode in ( 2 , 9 )  /* или вкл аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_23
 , coalesce((select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork ,  enelement , finexecutor  , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 11 /*КЛ - 0,4/10/35 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode in ( 1 , 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})

 ),0) as col_24
  , coalesce(( select  sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork , enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 11 /*КЛ - 0,4/10/35 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode in ( 2 , 9 ) /* или вкл или аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_25

 -----------------ПС -150/35 кВ ------------------------------------------------
  , coalesce((  select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork ,  enelement , finexecutor ,finexecutor2plan
                   Where enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні ,  річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in ( 6 , 9 ) /*Подстанция 35-150 кВ(6)  + объекты РЗА(9)  */
                     and  enplanwork.staterefcode in( 1 , 8)  /*Кап ремонт или Доробка */
                     and  enplanwork.typerefcode in ( 1 /*, 10*/ )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_26
  , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor ,finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні ,  річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in ( 6 , 9 ) /*Подстанция 35-150 кВ(6)  + объекты РЗА(9)  */
                     and  enplanwork.staterefcode in( 1 , 8)  /*Кап ремонт или Доробка */
                     and  enplanwork.typerefcode in ( /*1 ,*/  10 )  /*плановые работы + внеплановые  */
					 and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_26_vneplan
 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork , enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні ,  річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in ( 6 , 9 ) /*Подстанция 35-150 кВ(6)  + объекты РЗА(9)  */
                     and  enplanwork.staterefcode = 1 /*Кап ремонт*/
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_27
 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork ,  enelement , finexecutor ,finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in ( 6 , 9 ) /*Подстанция 35-150 кВ(6)  + объекты РЗА(9)  */
                     and  enplanwork.staterefcode = 5 /*Текущий ремонт  */
                     and  enplanwork.typerefcode in ( 1 , 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_28
  , coalesce((  select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні ,  річні   */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode in ( 6 , 9 ) /*Подстанция 35-150 кВ(6)  + объекты РЗА(9)  */
                     and  enplanwork.staterefcode = 5 /*Текущий ремонт  */
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_29

 ----------------- ВЛ -35 /150 кВ ----------------------------------------------

   , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні ,  річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 5 /*Повітряна лінія 35-150 кВ*/
                     and  enplanwork.staterefcode in( 1 , 8)  /*Кап ремонт или Доробка */
                     and  enplanwork.typerefcode in ( 1 /*, 10*/ )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_30
 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from enplanwork ,  enelement , finexecutor ,finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні ,  річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 5 /*Повітряна лінія 35-150 кВ*/
                     and  enplanwork.staterefcode in( 1 , 8)  /*Кап ремонт или Доробка */
                     and  enplanwork.typerefcode in ( /*1 ,*/ 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_30_vneplan
 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork , enelement , finexecutor  , finexecutor2plan
                   Where enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 5 /*Повітряна лінія 35-150 кВ*/
                     and  enplanwork.staterefcode = 1 /*Кап ремонт*/
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_31
 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork , enelement , finexecutor  , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план ,  поточні , річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 5 /*Повітряна лінія 35-150 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode in ( 1 , 10 )  /*плановые работы + внеплановые  */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_32
  , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork ,  enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні , річні  */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enelement.typerefcode = 5 /*Повітряна лінія 35-150 кВ*/
                     and  enplanwork.staterefcode = 3 /*Техническое обслуживание */
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as col_33
 ,

coalesce((select case when sum(endeliverytime.deliverytimefact) <> 0 then sum(endeliverytime.deliverytimefact) else
 sum(endeliverytime.deliverytimeplan) end from endeliverytime where  endeliverytime.humenitemrefcode in (
Select enhumenitem.code as enplanitemcode
  from enhumenitem  ,  enplanworkitem , enplanwork , finexecutor  , finexecutor2plan
                   Where  enhumenitem.planitemrefcode = enplanworkitem.code
                     and  enplanworkitem.planrefcode = enplanwork.code
                     and  coalesce(enhumenitem.countfact  , 0 ) <> 0
                     and  enplanwork.datestart between to_date($P{pdate1}, 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind}  /* задание факт , план , поточні ,  річні */
                     and  enplanworkitem.countgen <> 0
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
                     )) ,0) as deliveritime
,
coalesce((select case when sum(endeliverytime.deliverytimefact) <> 0 then sum(endeliverytime.deliverytimefact) else
 sum(endeliverytime.deliverytimeplan) end from endeliverytime where  endeliverytime.humenitemrefcode in (
Select enhumenitem.code as enplanitemcode
  from enhumenitem  ,  enplanworkitem , enplanwork , finexecutor  , finexecutor2plan
                   Where  enhumenitem.planitemrefcode = enplanworkitem.code
                     and  enplanworkitem.planrefcode = enplanwork.code
                     and  coalesce(enhumenitem.countfact  , 0 ) <> 0
                     and  enplanwork.datestart between to_date($P{pdate1}, 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind}  /* задание факт , план ,  поточні , річні  */
                     and  enplanworkitem.countgen <> 0
                    and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
                     and ( enplanwork.typerefcode in (5 , 7 ) -- инв прогр и приедн
                          /*или*/
                                   /*по кр */
                           or ((enplanwork.staterefcode in ( 1 , 8 )) AND (enplanwork.typerefcode in (1 /*, 10*/ )) )
                         )

                     )) ,0) as deliveritime_kr_inv_pricon
,
coalesce((select case when sum(endeliverytime.deliverytimefact) <> 0 then sum(endeliverytime.deliverytimefact) else
 sum(endeliverytime.deliverytimeplan) end from endeliverytime where  endeliverytime.humenitemrefcode in (
Select enhumenitem.code as enplanitemcode
  from enhumenitem  ,  enplanworkitem , enplanwork , finexecutor  , finexecutor2plan
                   Where  enhumenitem.planitemrefcode = enplanworkitem.code
                     and  enplanworkitem.planrefcode = enplanwork.code
                     and  coalesce(enhumenitem.countfact  , 0 ) <> 0
                     and  enplanwork.datestart between to_date($P{pdate1}, 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind}  /* задание факт , план ,  поточні , річні  */
                     and  enplanworkitem.countgen <> 0
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
                     and (
                             ((enplanwork.staterefcode in ( 1 , 8 )) AND (enplanwork.typerefcode in (/*1 ,*/ 10 )) )
                            )

                     )) ,0) as deliveritime_kr_vneplan
, coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork , enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні ,  річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enplanwork.typerefcode = 2 /*аварийно востановительные работы */
                     and  ( enelement.typerefcode NOT IN (21 ,  3 , 1 , 2 , 11 , 6 , 9 , 5 )
                       or ( ( enelement.typerefcode = 9 and enplanwork.staterefcode = 3 )
                             or
                            ( enelement.typerefcode = 6 and enplanwork.staterefcode = 3 )
                            or -- не попадала реконстукция модернизация
                            (enplanwork.staterefcode = 2 )
                           ) )
                     and  enplanwork.typerefcode NOT IN (5, 7, 6, 100, 101, 102, 103, 104, 105, 106, 107,111,112) /* исключая работы по энергосбыту , присоединению , инвест программе*/
                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as other_avr

 , coalesce(( select sum(finexecutor2plan.totaltimemanhours) as countfact  from  enplanwork , enelement , finexecutor , finexecutor2plan
                   Where  enplanwork.datestart between to_date($P{pdate1} , 'dd.mm.yyyy') and to_date($P{pdate2},'dd.mm.yyyy')
                     and  enplanwork.statuscode NOT IN (2,6)
                     and  enplanwork.kindcode = $P{plankind} /* задание факт , план , поточні ,  річні */
                     and  enplanwork.elementrefcode = enelement.code
                     and  enplanwork.typerefcode <> 2 /*аварийно востановительные работы */
                     and  ( enelement.typerefcode NOT IN (21  ,  3 , 1 , 2 , 11 , 6 , 9 , 5 )
                       or ( ( enelement.typerefcode = 9 and enplanwork.staterefcode = 3 )
                             or
                            ( enelement.typerefcode = 6 and enplanwork.staterefcode = 3 )
                            or -- не попадала реконстукция модернизация
                            (enplanwork.staterefcode = 2 )
                          ) )
                     and  enplanwork.typerefcode NOT IN (5, 7, 6, 100, 101, 102, 103, 104, 105, 106, 107,111,112) /* исключая работы по энергосбыту , присоединению , инвест программе*/

                     and  enplanwork.code =  finexecutor2plan.planrefcode
                     and  finexecutor.code = finexecutor2plan.finexecutorcode
                     and  finexecutor.axorgid = $P{Ppodrkod}
                     And enplanwork.budgetrefcode in ($P!{budgcode})
 ),0) as other]]>
	</queryString>
	<field name="period" class="java.lang.String"/>
	<field name="realizac_invest_progr" class="java.math.BigDecimal"/>
	<field name="vikonan_work_priconection" class="java.math.BigDecimal"/>
	<field name="work_in_energozbut" class="java.math.BigDecimal"/>
	<field name="col_14" class="java.math.BigDecimal"/>
	<field name="col_15" class="java.math.BigDecimal"/>
	<field name="col_16" class="java.math.BigDecimal"/>
	<field name="col_17" class="java.math.BigDecimal"/>
	<field name="col_18" class="java.math.BigDecimal"/>
	<field name="col_19" class="java.math.BigDecimal"/>
	<field name="col_20" class="java.math.BigDecimal"/>
	<field name="col_21" class="java.math.BigDecimal"/>
	<field name="col_22" class="java.math.BigDecimal"/>
	<field name="col_23" class="java.math.BigDecimal"/>
	<field name="col_24" class="java.math.BigDecimal"/>
	<field name="col_25" class="java.math.BigDecimal"/>
	<field name="col_26" class="java.math.BigDecimal"/>
	<field name="col_27" class="java.math.BigDecimal"/>
	<field name="col_28" class="java.math.BigDecimal"/>
	<field name="col_29" class="java.math.BigDecimal"/>
	<field name="col_30" class="java.math.BigDecimal"/>
	<field name="col_31" class="java.math.BigDecimal"/>
	<field name="col_32" class="java.math.BigDecimal"/>
	<field name="col_33" class="java.math.BigDecimal"/>
	<field name="other" class="java.math.BigDecimal"/>
	<field name="deliveritime" class="java.math.BigDecimal"/>
	<field name="other_avr" class="java.math.BigDecimal"/>
	<field name="work_on_pripis" class="java.math.BigDecimal"/>
	<field name="deliveritime_kr_inv_pricon" class="java.math.BigDecimal"/>
	<field name="col_14_vneplan" class="java.math.BigDecimal"/>
	<field name="col_18_vneplan" class="java.math.BigDecimal"/>
	<field name="col_22_vneplan" class="java.math.BigDecimal"/>
	<field name="col_26_vneplan" class="java.math.BigDecimal"/>
	<field name="col_30_vneplan" class="java.math.BigDecimal"/>
	<field name="deliveritime_kr_vneplan" class="java.math.BigDecimal"/>
	<variable name="v_count_personal" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$P{pcountpers}]]></variableExpression>
	</variable>
	<variable name="v_countworkhours" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$P{p_countworkhours}]]></variableExpression>
	</variable>
	<variable name="v_counthoursotpusk" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$P{sumhoursotpusk}
/*((com.ksoe.energynet.reports.common.mDaxScriptlet)
$P{mDaxScriptlet_SCRIPTLET}).getCountHoursOtpuskByEmplString
( $P{pdate1} , $P{pdate2} ,  $P{stringEmplid})*/]]></variableExpression>
	</variable>
	<variable name="var_col11" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( $V{v_count_personal}.doubleValue() != 0.0 )  ? ($F{col_15}.add($F{col_17}).add($F{col_19}).add($F{col_21}).add
         ($F{col_23}).add($F{col_25}).add($F{col_27}).add($F{col_29}).add
         ($F{col_31}).add($F{col_33}).add($F{other_avr}) ) : new BigDecimal(0)]]></variableExpression>
	</variable>
	<variable name="var_col12" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$F{deliveritime}]]></variableExpression>
	</variable>
	<variable name="var_col10" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{v_count_personal}.doubleValue() != 0.0 ?
(( ($V{v_countworkhours}.multiply($V{v_count_personal})).setScale(2, java.math.BigDecimal.ROUND_HALF_UP).subtract($V{v_counthoursotpusk}))
.multiply(new BigDecimal(0.05))).setScale(2, java.math.BigDecimal.ROUND_HALF_UP) : new BigDecimal(0)]]></variableExpression>
	</variable>
	<variable name="var_col34" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( $V{v_count_personal}.doubleValue() != 0.0 )  ? ( $F{realizac_invest_progr}.add(
           $F{vikonan_work_priconection}).add(
           $F{work_in_energozbut}).add(
           $V{var_col11}).add(
           $F{col_14}).add(
           $F{col_14_vneplan}).add(
           $F{col_16}).add(
           $F{col_18}).add(
           $F{col_18_vneplan}).add(
           $F{col_20}).add(
           $F{col_22}).add(
           $F{col_22_vneplan}).add(
           $F{col_24}).add(
           $F{col_26}).add(
           $F{col_26_vneplan}).add(
           $F{col_28}).add(
           $F{col_30}).add(
           $F{col_30_vneplan}).add(
           $F{col_32}).add(
           $F{other}.add(
           $F{work_on_pripis}))
 ) : new BigDecimal(0)]]></variableExpression>
	</variable>
	<variable name="var_col6" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( $V{v_count_personal}.doubleValue() != 0.0 )  ? ( ($V{v_countworkhours}.multiply($V{v_count_personal})).setScale(2, java.math.BigDecimal.ROUND_HALF_UP).subtract($V{v_counthoursotpusk}) ) : new BigDecimal(0)]]></variableExpression>
	</variable>
	<variable name="sum_col_5" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$V{v_counthoursotpusk}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_6" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$V{var_col6}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_7" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{realizac_invest_progr}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_8" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{vikonan_work_priconection}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_9" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{work_in_energozbut}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_10" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$V{var_col10}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_11" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$V{var_col11}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_12" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$V{var_col12}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_13" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[( $V{v_count_personal}.doubleValue() != 0.0 )  ? ( $V{var_col6}.subtract($F{realizac_invest_progr}).subtract($F{vikonan_work_priconection}).subtract($F{work_in_energozbut}).subtract($V{var_col10}).subtract($V{var_col11}).subtract($V{var_col12}) ) : new BigDecimal(0)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_14" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_14}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_15" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_15}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_16" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_16}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_17" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_17}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_18" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_18}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_19" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_19}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_20" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_20}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_21" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_21}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_22" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_22}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_23" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_23}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_24" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_24}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_25" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_25}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_26" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_26}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_27" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_27}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_28" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_28}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_29" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_29}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_30" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_30}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_31" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_31}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_32" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_32}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_33" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_33}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_34" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$V{var_col34}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_35" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[( $V{var_col6}.doubleValue() != 0.0 )  && ( $V{var_col34}.doubleValue() !=0.0 )
? ( ($V{var_col34}.divide($V{var_col6}, 8 , 2).multiply( new BigDecimal(100))) ) : new BigDecimal(0)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_36" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[( $V{var_col6}.doubleValue() != 0.0 )  ? (  (( $F{realizac_invest_progr}.add(
           $F{vikonan_work_priconection}).add(
           $F{col_14}).add(
           $F{col_18}).add(
           $F{col_22}).add(
           $F{col_26}).add(
           $F{col_30}).add(
           $F{other})).divide($V{var_col6}, 8 , 2) ).multiply(new BigDecimal(100).setScale(2, java.math.BigDecimal.ROUND_HALF_UP))
       ) : new BigDecimal(0)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_37" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[( $V{var_col6}.doubleValue() !=0.0 ) && ( $V{var_col11}.doubleValue() !=0.0 ) ?
( $V{var_col11}.divide($V{var_col6}, 8 , 2).multiply(new BigDecimal(100)).setScale(2, java.math.BigDecimal.ROUND_HALF_UP) ) : new BigDecimal(0)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_other" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{other}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_other_avr" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{other_avr}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="itogo_pripis" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{work_on_pripis}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_12_deliv_kr_pr_inv" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{deliveritime_kr_inv_pricon}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_14_vneplan" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_14_vneplan}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_18_vneplan" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_18_vneplan}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_22_vneplan" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_22_vneplan}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_26_vneplan" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_26_vneplan}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_30_vneplan" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{col_30_vneplan}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_36_vneplan" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[( $V{var_col6}.doubleValue() != 0.0 )  ? (  ((
           $F{col_14_vneplan}.add(
           $F{col_18_vneplan}).add(
           $F{col_22_vneplan}).add(
           $F{col_26_vneplan}).add(
           $F{col_30_vneplan})).divide($V{var_col6}, 8 , 2) ).multiply(new BigDecimal(100).setScale(2, java.math.BigDecimal.ROUND_HALF_UP))
       ) : new BigDecimal(0)]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="sum_col_12_deliv_kr_vneplan" class="java.math.BigDecimal" incrementType="Group" incrementGroup="rr" calculation="Sum">
		<variableExpression><![CDATA[$F{deliveritime_kr_vneplan}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<group name="rr">
		<groupExpression><![CDATA[$F{period}]]></groupExpression>
		<groupHeader>
			<band splitType="Stretch"/>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
				<reportElement key="textField-45" style="style1" stretchType="RelativeToTallestObject" mode="Opaque" x="0" y="0" width="50" height="20" forecolor="#000000"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[( $V{var_col6}.doubleValue() != 0.0 ) && ( $V{var_col34}.doubleValue() !=0.0 )  ?
 ( ($V{var_col34}.divide($V{var_col6}, 8 , 2).multiply( new BigDecimal(100))) ) : new BigDecimal(0)]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
