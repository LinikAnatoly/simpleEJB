<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="gray_lanscape" pageWidth="2900" pageHeight="595" orientation="Landscape" columnWidth="2900" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isIgnorePagination="true">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="s1">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($F{pr_date_start_work}.doubleValue() == 1.0)]]></conditionExpression>
			<style mode="Opaque" backcolor="#FF3333"/>
		</conditionalStyle>
	</style>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\iReport-3.0.0\\tmp\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="enactcode" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="datestart" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String("01.03.2012")]]></defaultValueExpression>
	</parameter>
	<parameter name="datefinal" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String("31.03.2012")]]></defaultValueExpression>
	</parameter>
	<parameter name="podr" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="budj" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="shownullfact" class="java.lang.Integer">
		<parameterDescription><![CDATA[0 - не показываем невыполненные работы на факте
1 - показываем и выполненые и невыполненые
2- только невыполненые работы]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="typeact" class="java.lang.Integer">
		<parameterDescription><![CDATA[тип акта]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="actstatus" class="java.lang.Integer">
		<parameterDescription><![CDATA[статус акта 3 проведенные
(0 ) - проведенные и черновые]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="finexecutorname" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String("")]]></defaultValueExpression>
	</parameter>
	<parameter name="obj" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(80009563)]]></defaultValueExpression>
	</parameter>
	<parameter name="formplan" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="budgetstringcode" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String(" enp.budgetrefcode in (240000001)")]]></defaultValueExpression>
	</parameter>
	<parameter name="onlydraftactstatus" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="planstatus" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="worktypecode" class="java.lang.Integer"/>
	<parameter name="finexecutorfincode" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="conditionExecutor" class="java.lang.String"/>
	<parameter name="finexecutoraxcode" class="java.lang.String"/>
	<parameter name="budjname" class="java.lang.String"/>
	<queryString>
		<![CDATA[Select distinct
       depname ,
       depcode ,
       executorname  ,
       executorcode
, (select string_agg(distinct dep.shortname ,',') from endepartment dep , enplanwork enp
      where dep.code = enp.budgetrefcode and $P!{budgetstringcode} )  as budgetnameinfilter
From (
Select obj ,
       elementcode ,
       typeact ,
       typeactcode,
       budjname ,
       budjcode ,
       depname ,
       depcode ,
        ( Select ffe.name  from finexecutor ffe where ffe.axorgid = finexecutoraxcode
           order by ffe.modify_time desc
           limit 1
          ) as  executorname  ,
       finexecutoraxcode as executorcode ,
       planrefcodemonth  ,
       tkworkname ,
       workcode , workcountmonth , worktimemonth ,
       startwork ,
       endwork ,
       typework ,
       pr_draft_act ,
       priconnectionnumber
       , case when date_start_work = '01.01.3000' then 'Немає даних'
              when date_start_work = '01.01.3001' then 'ТМЦ непотрібні'
              else date_start_work end as date_start_work
      , case /*when ( isobligatory is null or isobligatory = 0 )  then 0 -- не выделяем в отчете */
             when date_start_work = '01.01.3000' then 1 -- выделение в отчете
             when (date_start_work <> '01.01.3000' and date_start_work <> '01.01.3001'  and to_date(date_start_work,'dd.mm.yyyy') > to_date($P{datefinal},'dd.mm.yyyy') ) then 1  -- выделение в отчете
             when (date_start_work <> '01.01.3000' and date_start_work <> '01.01.3001'  and to_date(date_start_work,'dd.mm.yyyy')  between to_date($P{datestart},'dd.mm.yyyy') and  to_date($P{datefinal},'dd.mm.yyyy') ) then 0  -- не выделяем в отчете
             when date_start_work = '01.01.3001' then 0  -- не выделяем в отчете

       end as pr_date_start_work

FROM (
Select coalesce(eld.ename,'') ||' Інв.№ '|| coalesce(eld.invnumber,'') as obj ,
       elementcode ,
       typeact ,
       typeactcode,
       budjname ,
       budjcode ,
       depname ,
       depcode ,
      '0' as finexecutorfincode,
       (select distinct f.axorgid from enplanwork p , finexecutor f where p.code = planrefcode
                                                            and p.finexecutorcode = f.code   ) as finexecutoraxcode ,
       planrefcode as planrefcodemonth  ,
       tkworkname ,
       workcode as workcode , sum(workcountmonth) as workcountmonth , sum(worktimemonth) as worktimemonth ,
       startwork ,
       endwork ,
       typework
       ,
       /*признак для черновых актов*/

       (Select
coalesce(sum(act.code),0) as prdraftact
 from  enplanwork enp left join  enact2enplanwork act2plan on ( act2plan.plancode = enp.code  )
            left join enact act on (  act2plan.actrefcode = act.code        )
            left join enactstatus statact on ( act.statusrefcode = statact.code)
            left join enplanworkstate enps on ( enps.code = act.acttyperefcode) ,
       enworkorder2enplanwork ord2enp  , enplanworkitem epi , tktechcard tkd ,
       enplanworktype enpt , enworkorder ord
 where enp.code in  ( select eh2.plannewrefcode from enplancorrecthistory eh2 where eh2.reasoncode =  5 and  eh2.planoldrefcode in (select eh1.plannewrefcode from enplancorrecthistory eh1 where eh1.planoldrefcode =  s_wormonthfact.planrefcode  and eh1.reasoncode = 4)
                      )
   and enp.code = ord2enp.plancode
   and epi.kartarefcode = tkd.code
   and epi.kartarefcode = s_wormonthfact.workcode
   and epi.planrefcode = enp.code
   and epi.countgen <> 0
   and enp.kindcode = 4
   and enp.typerefcode = enpt.code
   and enp.departmentrefcode = s_wormonthfact.depcode
   and enp.budgetrefcode = s_wormonthfact.budjcode
   and ord2enp.workordercode = ord.code
   and enp.statuscode in (1, 3) /*черновые и утвержденные*/
   and enp.elementrefcode = s_wormonthfact.elementcode
   and act.statusrefcode = 1 /*признак что акт черновой*/
) as pr_draft_act  /*1- есть черновой акт 0 - нет чернового акта */
, priconnectionnumber
, (select net.get_date_start_works2(planrefcode::numeric , to_date($P{datestart},'dd.mm.yyyy') , to_date($P{datefinal},'dd.mm.yyyy') ) ) as date_start_work
/*, (Select COALESCE( 1 , 0 )
    From enestimateitem eni , tkmaterials tkm  , tkelement2techcard tke2tk , tkelement tke  , enplanworkitem pi
            Where eni.planrefcode = s_wormonthfact.planrefcode::numeric
              and eni.planitemrefcode = pi.code
              and eni.materialrefcode = tkm.code
              and tkm.elementcode = tke.code
              and tke.elementtypecode = 240000004
              and tke2tk.elementcode = tke.code
              and tke2tk.isobligatory = 1
              and eni.statusrefcode <> 5
              and eni.countfact <> 0
              and pi.code = eni.planitemrefcode
              and pi.kartarefcode = tke2tk.techkartcode
              and pi.countgen <> 0
              limit 1) as isobligatory*/
FROM
(
Select distinct
       enps.shortname as typeact ,
       enps.code as typeactcode ,
       enp.elementrefcode as elementcode ,
       budg.name as budjname ,
       enp.budgetrefcode as budjcode ,
       dep.name as depname ,
       dep.code as depcode ,
       enim.planrefcode ,
       tk.name as tkworkname , enim.kartarefcode  as workcode , enim.countgen as workcountmonth , enim.timegen as worktimemonth ,
       cast( 0 as numeric ) as workccountfact , cast( 0 as numeric ) as worktimefact ,
       to_char(enp.datestart,'dd.mm.yyyy') as startwork ,
       to_char(enp.datefinal,'dd.mm.yyyy') as endwork  ,
       enpt.shortname as typework
       , enp.commentgen as priconnectionnumber
        from
    enplanworkitem enim , tktechcard tk , enplanwork enp  ,
    endepartment dep , endepartment budg , enplanworkstate enps , enplanworktype enpt , enelement elt
Where enp.elementrefcode=elt.code
  and elt.typerefcode not in (19,20) -- пооткидывать лишние типы объектов
  and enim.planrefcode = enp.code
  and enim.kartarefcode = tk.code
  and enp.departmentrefcode = dep.code
  and enim.planrefcode = enp.code
  and enp.budgetrefcode = budg.code
  and enps.code = enp.staterefcode
  and enp.kindcode = 2 /*берем только месячные планы*/
  and enim.countgen <> 0
  and ( enp.departmentrefcode = $P{podr} or $P{podr} = 0 )
  and $P!{budgetstringcode}
  and ( enp.elementrefcode = $P{obj}  or $P{obj} = 0 )
  and enp.datestart between to_date($P{datestart},'dd.mm.yyyy') and to_date($P{datefinal},'dd.mm.yyyy')
  and  ( (enp.statuscode <> 8 and $P{planstatus} = -8 )  or $P{planstatus} = 0 )  /*откидываем если  нужно работы со статусом завершены*/
  and ( enp.formrefcode = $P{formplan} or $P{formplan} = 0   ) /*работы плановые позаплановые*/
  and ( enp.typerefcode = $P{worktypecode} or $P{worktypecode} = 0   ) /*подвид работ*/
  and ( enp.staterefcode = $P{typeact} or $P{typeact} = 0   ) /*тип акта */
  and enpt.code = enp.typerefcode
  and enpt.code not in (19,20) /*не выбираем услуги со стороны */


) s_wormonthfact , enelementdata eld
Where  s_wormonthfact.elementcode = eld.ecode


GROUP BY  planrefcode ,  tkworkname , depname , depcode , budjname  , budjcode ,   elementcode , eld.ename , eld.invnumber , typeact ,typeactcode, workcode
, startwork , endwork , typework , priconnectionnumber
) sel_alll
  where $P!{conditionExecutor}
  and (( pr_draft_act > 0 and  $P{onlydraftactstatus}   = 1 ) or (1=1 and $P{onlydraftactstatus}   <> 1) )
) sel_alll2
group by obj ,
       elementcode ,
       typeact ,
       typeactcode,
       budjname ,
       budjcode ,
       depname ,
       depcode ,
       executorname ,
       executorcode ,
       planrefcodemonth ,
       startwork ,
       endwork ,
       typework ,
       pr_draft_act ,
       priconnectionnumber
      , date_start_work
      , pr_date_start_work
Order by  depname , executorname]]>
	</queryString>
	<field name="depcode" class="java.lang.Integer"/>
	<field name="depname" class="java.lang.String"/>
	<field name="executorcode" class="java.lang.String"/>
	<field name="executorname" class="java.lang.String"/>
	<field name="budgetnameinfilter" class="java.lang.String"/>
	<variable name="hoursplan" class="java.math.BigDecimal" resetType="Group" resetGroup="executor" calculation="Sum">
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="hoursfact" class="java.math.BigDecimal" resetType="Group" resetGroup="executor" calculation="System">
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<group name="executor">
		<groupExpression><![CDATA[$F{executorname}]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band height="20">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-70" positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="0" y="0" width="400" height="20"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman" size="10" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Всього по : " +  $F{executorname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
					<reportElement key="textField-2" stretchType="RelativeToTallestObject" x="650" y="0" width="40" height="20" isPrintWhenDetailOverflows="true"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
					<reportElement key="textField-3" stretchType="RelativeToTallestObject" x="690" y="0" width="40" height="20" isPrintWhenDetailOverflows="true"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{hoursplan}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-6" stretchType="RelativeToTallestObject" x="600" y="0" width="50" height="20" isPrintWhenDetailOverflows="true"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-6" stretchType="RelativeToTallestObject" x="400" y="0" width="200" height="20" isPrintWhenDetailOverflows="true"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
					<reportElement key="textField-3" stretchType="RelativeToTallestObject" x="730" y="0" width="50" height="20" isPrintWhenDetailOverflows="true"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#0.#######" isBlankWhenNull="true">
					<reportElement key="textField-3" stretchType="RelativeToTallestObject" x="780" y="0" width="50" height="20" isPrintWhenDetailOverflows="true"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font fontName="Times New Roman" size="7" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{hoursfact}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="121" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-38" stretchType="RelativeToTallestObject" x="0" y="7" width="400" height="90"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" size="13" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" Заплановані роботи та факт їх виконання (консолідований звіт) " +
($P{datestart}.equals("01.01.2000") ? " " : " за період з " + $P{datestart}  + " по " + $P{datefinal} )
+ ( $P{podr}.doubleValue() != 0 ? "\n" + " Підрозділ : " + $F{depname} : " " )
+ ( $P{budj}.doubleValue() != 0 ? "\n" + " Бюджетотримач : " + $F{budgetnameinfilter} : " " )]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-45" x="600" y="7" width="280" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="Times New Roman" size="9" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Додаток № ____ " + " до наказу № _________ від ___________ "]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-46" x="600" y="37" width="280" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="6" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-47" x="600" y="47" width="280" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="6" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["посада"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-48" x="600" y="57" width="280" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="6" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-49" x="600" y="67" width="280" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="6" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Ф.І.О"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-50" x="600" y="77" width="280" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="6" isBold="true" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-51" x="600" y="87" width="280" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Times New Roman" size="6" isUnderline="false" isStrikeThrough="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["підпис дата "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-52" x="600" y="22" width="280" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="Times New Roman" size="9" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" ЗАТВЕРДЖУЮ : "]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="60" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="0" y="0" width="200" height="60"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Підрозділ"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-12" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="400" y="0" width="330" height="20" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Заплановано"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-15" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="400" y="20" width="200" height="40" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Назва робіт"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-16" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="650" y="20" width="40" height="40" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Кількість"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-17" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="690" y="20" width="40" height="40" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["чол./год."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-57" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="600" y="20" width="50" height="40" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Од.вим"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-58" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="730" y="0" width="100" height="20" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Фактично виконано"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-60" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="730" y="20" width="50" height="40" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Кількість"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-61" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="780" y="20" width="50" height="40" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["чол./год."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-8" stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="200" y="0" width="200" height="60"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Виконавець"]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-70" positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="200" y="0" width="200" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{executorname}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="subreport-2" positionType="Float" stretchType="RelativeToTallestObject" x="400" y="0" width="430" height="20"/>
				<subreportParameter name="datestart">
					<subreportParameterExpression><![CDATA[$P{datestart}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="budgetstringcode">
					<subreportParameterExpression><![CDATA[$P{budgetstringcode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="enactcode">
					<subreportParameterExpression><![CDATA[$P{enactcode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="shownullfact">
					<subreportParameterExpression><![CDATA[$P{shownullfact}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="actstatus">
					<subreportParameterExpression><![CDATA[$P{actstatus}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="formplan">
					<subreportParameterExpression><![CDATA[$P{formplan}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="typeact">
					<subreportParameterExpression><![CDATA[$P{typeact}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="planstatus">
					<subreportParameterExpression><![CDATA[$P{planstatus}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="worktypecode">
					<subreportParameterExpression><![CDATA[$P{worktypecode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="onlydraftactstatus">
					<subreportParameterExpression><![CDATA[$P{onlydraftactstatus}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="podr">
					<subreportParameterExpression><![CDATA[$F{depcode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="budj">
					<subreportParameterExpression><![CDATA[$P{budj}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="datefinal">
					<subreportParameterExpression><![CDATA[$P{datefinal}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="executorcode">
					<subreportParameterExpression><![CDATA[$F{executorcode}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="conditionExecutor">
					<subreportParameterExpression><![CDATA[$P{conditionExecutor}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="obj">
					<subreportParameterExpression><![CDATA[$P{obj}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="hoursplan" toVariable="hoursplan" calculation="Sum"/>
				<returnValue subreportVariable="hoursfact" toVariable="hoursfact" calculation="Sum"/>
				<subreportExpression><![CDATA[/*"C:/iReport-3.0.0/tmp/itog_podr_plan.jasper"*/
getClass().getResourceAsStream("/com/ksoe/energynet/reports/WorkByAkt/Consolid_podr/itog_podr_plan.jasper")]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-70" positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="0" y="0" width="200" height="20"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="10" isBold="false" pdfFontName="times.ttf" pdfEncoding="Cp1251" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{depname}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="30" splitType="Stretch"/>
	</summary>
</jasperReport>
